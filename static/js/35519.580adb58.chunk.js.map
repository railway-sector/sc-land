{"version":3,"file":"static/js/35519.580adb58.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceController.js","../node_modules/@arcgis/core/views/3d/terrain/isTerrainSurfaceLayer.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceTool.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/SliceAnalysisView3D.js","../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../node_modules/@arcgis/core/views/interactive/ToolIntersector.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/support/geometry2dUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import r from\"../../../core/Promise.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";const s=s=>{let n=class extends(r.EsriPromiseMixin(s)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return null==this.parent||this.parent.visible&&!this.parent.suspended}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractive(){return this._interactiveViewModelCount++,t((()=>this._interactiveViewModelCount--))}};return e([i({constructOnly:!0})],n.prototype,\"parent\",void 0),e([i({constructOnly:!0})],n.prototype,\"view\",void 0),e([i({type:Boolean})],n.prototype,\"interactive\",null),e([i()],n.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"_interactiveViewModelCount\",void 0),n=e([o(\"esri.views.3d.analysis.AnalysisView3D\")],n),n};export{s as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{watch as e,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let o=class extends i{constructor(s){super(s)}initialize(){this.addHandles(e((()=>this.analysisViewData.visible),(s=>this.visible=s),t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};o=s([r(\"esri.views.interactive.AnalysisToolBase\")],o);export{o as AnalysisToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as e,screenPointObjectToArray as n,castScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{h as o,d as l,l as s,c,e as i,g as a,f as u}from\"../../../../chunks/vec32.js\";import{create as p}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import m from\"../../../../geometry/Point.js\";import{projectPoint as f}from\"../../../../geometry/projectionUtils.js\";import{intersectRay as d,create as g,getNormal as E,fromPositionAndNormal as y}from\"../../../../geometry/support/plane.js\";import{create as S,closestPoints as j}from\"../../../../geometry/support/ray.js\";import{projectPoint as v}from\"../../../../geometry/support/vector.js\";import{sv2d as R}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as b}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as w}from\"../../support/geometryUtils/ray.js\";import{Intersector as x}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as I}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{IntersectorType as U}from\"../../webgl-engine/lib/IntersectorType.js\";import{terrainId as H}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as O}from\"../../../interactive/dragEventPipeline.js\";function T(e,n){return P(e,(()=>n))}function C(e){return P(e,(e=>e.plane))}function P(e,t){const o=p(),l=p();let s=!1;return c=>{const i=t(c);if(\"start\"===c.action){const t=n(c.screenStart,r(R.get())),l=w(e.state.camera,t,Q);null!=l&&(s=d(i,l,o))}if(!s)return null;const a=n(c.screenEnd,r(R.get())),u=w(e.state.camera,a,Q);return null==u?null:d(i,u,l)?{...c,renderStart:o,renderEnd:l,plane:i,ray:u}:null}}function D(n,r,t=0,o=null,l=null){let s=null;return c=>{if(\"start\"===c.action&&(s=n.sceneIntersectionHelper.intersectElevationFromScreen(e(c.screenStart.x,c.screenStart.y),r,t,l),null!=s&&null!=o&&!f(s,s,o)))return null;if(null==s)return null;const i=n.sceneIntersectionHelper.intersectElevationFromScreen(e(c.screenEnd.x,c.screenEnd.y),r,t,l);return null!=i&&(null==o||f(i,i,o))?{...c,mapStart:s,mapEnd:i}:null}}function M(e,n,r,t=null,o=null){return D(e,r,b(n,e,r),t,o)}function N(e,n,r,t){const o=r.toMap(e.screenStart);return null!=o?M(n,o,r.elevationInfo,t):null}function h(e,n){const r=K,t=L,s=g();e.renderCoordsHelper.worldUpAtPosition(n,r);const c=o(E(s),r,l(t,n,e.state.camera.eye));return o(c,c,r),y(n,c,s)}function G(e,n,r){let t=null;const o=new O;return o.next(T(e,h(e,n))).next(k(e,n)).next(F(e,r)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,t=e})),e=>(t=null,o.execute(e),t)}function k(e,n){const r=p(),t=s(n);e.renderCoordsHelper.worldUpAtPosition(n,r);const o=p(),m=p(),f=o=>{if(l(o,o,n),v(r,o,o),\"global\"===e.viewingMode){s(o)*Math.sign(i(r,o))<.001-t&&l(o,a(o,r,.001),n)}return u(o,o,n),o};return e=>(e.renderStart=f(c(o,e.renderStart)),e.renderEnd=f(c(m,e.renderEnd)),e)}function A(e,t){const o=o=>{const l=n(o,r(J)),s=w(e.state.camera,l,Q);if(null==s)return null;const c=j(t,s,K,L);return c?.[0]};return e=>{const n=o(e.screenStart);if(null==n)return null;const r=o(e.screenEnd);return null==r?null:{...e,renderStart:n,renderEnd:r}}}function F(e,n){const r=e.renderCoordsHelper;return e=>{const t=r.fromRenderCoords(e.renderStart,new m({spatialReference:n})),o=r.fromRenderCoords(e.renderEnd,new m({spatialReference:n}));return null!=t&&null!=o?{...e,mapStart:t,mapEnd:o}:null}}var q;function z(e){let n=null;return r=>{switch(r.action){case\"start\":n=e.disableDisplay();break;case\"end\":case\"cancel\":null!=n&&(n.remove(),n=null)}return r}}function B(r,t=null){const o=new x(r.state.viewingMode);o.options.selectionMode=!0,o.options.store=I.MIN,o.options.hud=!1;const l=e(),s={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},c=p(),i=t??r.spatialReference,a=e=>{r.map.ground&&r.map.ground.opacity<1?s.exclude.add(H):s.exclude.delete(H),r.sceneIntersectionHelper.intersectIntersectorScreen(n(e,l),o,s);const t=o.results.min;let a;if(t.getIntersectionPoint(c))a=t.intersector===U.TERRAIN?q.GROUND:q.OTHER;else{if(!o.results.ground.getIntersectionPoint(c))return null;a=q.GROUND}return{location:r.renderCoordsHelper.fromRenderCoords(c,new m({spatialReference:i})),surfaceType:a}};let u;return e=>{if(\"start\"===e.action){const n=a(e.screenStart);u=null!=n?n.location:null}if(null==u)return null;const n=a(e.screenEnd);return null!=n?.location?{...e,mapStart:u,mapEnd:n.location,surfaceType:n.surfaceType}:null}}!function(e){e[e.GROUND=0]=\"GROUND\",e[e.OTHER=1]=\"OTHER\"}(q||(q={}));const J=t(),K=p(),L=p(),Q=S();export{q as SurfaceType,F as convertToMapCoordinates,z as hideManipulatorWhileDragging,k as projectToWorldUp,B as screenToMap3D,M as screenToMapXYAtLocation,N as screenToMapXYForManipulatedObject,T as screenToRenderPlane,C as screenToRenderPlaneFromEvent,A as screenToRenderRay,G as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{handlesGroup as t}from\"../../core/handleUtils.js\";import{removeMaybe as e}from\"../../core/maybe.js\";import{throwIfAborted as n,isAbortError as i,onAbort as a}from\"../../core/promiseUtils.js\";import{watch as r,syncAndInitial as s,on as l,whenOnce as c}from\"../../core/reactiveUtils.js\";function u(t,n){t.interactive=!0;const{tool:i,view:r}=t;r.activeTool=i;let s=a(n,(()=>{r.activeTool===i&&(r.activeTool=null)}));return o((async o=>{await c((()=>!t.tool?.active),o),s=e(s)}),n)}function m(o,t){return r((()=>o.interactive),(()=>p(o,t)),s)}function p(o,t){o.interactive?v(o,t):f(o)}function v(o,t){f(o);const{view:e,analysis:n}=o,i=new t({view:e,analysis:n,analysisViewData:o});return o.tool=i,e.tools.add(i),i}function f(o){const{view:t,tool:e}=o;null!=e&&(t.tools.remove(e),o.tool=null)}function y(e,a){const r=e.userOperation,s=o((async o=>{if(r){const t=r.promise.catch((()=>{}));r?.abort(),await t,n(o)}const s=u(e,{signal:o}),c=a?.shouldRejectOnCancel??(()=>!0),m=t([l((()=>e.tool),\"cancel\",(()=>{c()&&s.abort()}))]),{tool:p}=e;try{p&&(p.resetCreated(),a?.onToolActivated?.(p)),await s.promise,n(o)}catch(v){if(o.aborted||!i(v)||c())throw v}finally{m?.remove()}}),{signal:a?.abortOptions?.signal});return e.userOperation=s,s.promise.finally((()=>{e.userOperation===s&&(e.userOperation=null)}))}async function d(o,t){const e=o.analysis.clone();return await y(o,{abortOptions:t?.placementOptions,onToolActivated:t?.onToolActivated,shouldRejectOnCancel:()=>{const{analysis:t}=o;return!t.valid||t.equals(e)}}),{}}export{u as activateAnalysisViewTool,m as connectAnalysisViewToTool,f as removeAnalysisViewTool,y as startExclusiveInteractiveOperation,d as startPlaceOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../analysis/SlicePlane.js\";import t from\"../../../../core/Accessor.js\";import a from\"../../../../core/Logger.js\";import{watch as l,sync as s}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{d as o}from\"../../../../chunks/boundedPlane.js\";import c from\"../../../../layers/Layer.js\";import h from\"../../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import{isIBuildingSceneLayerView3D as u,projectAndElevationAlignShape as d,projectedShapeToPlane as p,planeToShape as y}from\"./sliceToolUtils.js\";import{logFailedGeometryProjectionError as w}from\"../support/projectionUtils.js\";import{isTerrainSurfaceLayer as v}from\"../../terrain/isTerrainSurfaceLayer.js\";let f=class extends t{constructor(e){super(e),this._internalChange=!1,this._currentSlicePlane=null}initialize(){this.addHandles(this.analysis.excludedLayers.on(\"before-add\",(e=>{const i=e.item;null!=i&&(i instanceof c||i instanceof h)?i instanceof c&&v(i)?(a.getLogger(this).error(\"excludedLayers\",`Layer '${i.title}, id:${i.id}' of type '${i.type}' can not be individually excluded from slicing. Use 'excludeGroundSurface' instead.`),e.preventDefault()):this.analysis.excludedLayers.includes(i)&&e.preventDefault():(a.getLogger(this).error(\"excludedLayers\",\"Invalid layer type, layer must derive from Layer or BuildingComponentSublayer\"),e.preventDefault())}))),S(this.view,this),this.addHandles([l((()=>this.analysisViewData.plane),(()=>{this._internalChange||this._updateSlicePlaneFromBoundedPlane(),this._updateLayerViews()}),s),l((()=>this.analysis.excludeGroundSurface),(()=>this._updateLayerViews()),s),this.analysis.excludedLayers.on(\"change\",(()=>this._updateLayerViews())),l((()=>[this.analysisViewData.active,this.analysisViewData.visible]),(()=>{this._updateActiveController(),this._updateViewSlicePlane(),this._updateViewSlicePlaneDecoration()}),s),l((()=>this._allLayerAndSubLayerViews),(()=>this._updateLayerViews()))]),this.addHandles([l((()=>this.analysis.shape),(()=>{this._internalChange||(this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane())}),s),l((()=>\"web-scene\"!==this.analysis.origin?.type),(()=>this._updateViewSlicePlaneDecoration()),s)],\"analysis\"),this._updateActiveController(),this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane(),this._updateViewSlicePlaneDecoration()}destroy(){this.analysisViewData.active&&(this.analysisViewData.active=!1,this.view.slice.plane=null,this._updateActiveController(),this._updateViewSlicePlane()),L(this.view,this),this.set(\"view\",null)}get _allLayerAndSubLayerViews(){const e=this.view.allLayerViews.items;return e.concat(e.filter(u).flatMap((({sublayerViews:e})=>e.items)))}_updateBoundedPlaneFromSlicePlane(){const e=this.analysis.shape,i=this._currentSlicePlane;if(null==i&&null==e||null!=i&&null!=e&&e.equals(i))return;let t=null,l=null;if(null!=e?.position){const i=e.position.spatialReference,s=d(e,this.view);null==s&&w(this.analysis,i,a.getLogger(this)),t=p(s,this.view,{tiltEnabled:this.analysis.tiltEnabled},o()),null!=t&&(l={heading:e.heading,tilt:e.tilt,position:e.position,width:e.width,height:e.height})}this._currentSlicePlane=l,this._internalChange=!0,this.analysisViewData.plane=t,this._internalChange=!1}_updateSlicePlaneFromBoundedPlane(){const e=this.analysisViewData.plane,t=y(e,this.view,this.view.spatialReference,new i);let a=null;null!=t&&(a={heading:t.heading,tilt:t.tilt,position:t.position,width:t.width,height:t.height}),this._currentSlicePlane=a,this._internalChange=!0,this.analysis.shape=t,this._internalChange=!1,this._updateViewSlicePlane()}_updateActiveController(){if(g)return;const e=b(this.view);if(!e)return;if(this.analysisViewData.active)null!=e.activeController&&e.activeController!==this?(g=!0,e.activeController.analysisViewData.active=!1,g=!1):null!=e.activeController&&e.activeController,this._updateLayerViews(),e.activeController=this;else{if(null!=e.activeController&&e.activeController!==this)return;null!=e.activeController&&e.activeController===this&&(e.activeController=null,this._updateLayerViews())}}_updateViewSlicePlane(){V(this.view)}_updateViewSlicePlaneDecoration(){_(this.view)}_updateLayerViews(){const e=null!=this.analysisViewData.plane&&this.analysisViewData.visible&&this.analysisViewData.active,i=[],t=e=>{\"layers\"in e?e.layers.forEach(t):i.push(e)};this.analysis.excludedLayers.forEach(t),this.view.allLayerViews.forEach((t=>{t.destroyed||(\"slicePlaneEnabled\"in t&&(t.slicePlaneEnabled=e&&!i.includes(t.layer)),\"sublayerViews\"in t&&t.sublayerViews.forEach((t=>{t.slicePlaneEnabled=e&&!i.includes(t.sublayer)})))})),null!=this.view.basemapTerrain&&(this.view.basemapTerrain.slicePlaneEnabled=e&&!this.analysis.excludeGroundSurface)}};e([n()],f.prototype,\"view\",void 0),e([n()],f.prototype,\"analysis\",void 0),e([n()],f.prototype,\"analysisViewData\",void 0),e([n()],f.prototype,\"_allLayerAndSubLayerViews\",null),f=e([r(\"esri.views.3d.analysis.Slice.SliceController\")],f);const m=new Map;let g=!1;function V(e){const i=b(e),t=i?.activeController;null!=t?.analysisViewData.plane&&t.analysisViewData.visible?e.slice.plane=t.analysisViewData.plane:e.slice.plane=null}function _(e){const i=b(e),t=i?.activeController;e.slice.isDecoration=\"web-scene\"!==t?.analysis.origin?.type}function S(e,i){m.has(e)||m.set(e,{all:[],activeController:null}),m.get(e)?.all.push(i)}function b(e){return m.get(e)}function L(e,i){if(!m.has(e))throw new Error(\"view expected in global slice register\");const t=m.get(e),a=t?.all.lastIndexOf(i)??-1;if(!t||-1===a)throw new Error(\"controller expected in global slice register\");t.all.splice(a,1),0===t.all.length&&m.delete(e)}export{f as SliceController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";function a(a){switch(a.type){case\"building-scene\":case\"catalog\":case\"catalog-dynamic-group\":case\"catalog-footprint\":case\"csv\":case\"dimension\":case\"feature\":case\"geo-rss\":case\"geojson\":case\"graphics\":case\"group\":case\"integrated-mesh\":case\"integrated-mesh-3dtiles\":case\"kml\":case\"knowledge-graph\":case\"link-chart\":case\"knowledge-graph-sublayer\":case\"line-of-sight\":case\"map-notes\":case\"ogc-feature\":case\"oriented-imagery\":case\"point-cloud\":case\"route\":case\"scene\":case\"stream\":case\"viewshed\":case\"voxel\":case\"subtype-group\":case\"unknown\":case\"unsupported\":case\"wfs\":case\"parquet\":case null:return!1;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"elevation\":case\"imagery\":case\"imagery-tile\":case\"map-image\":case\"media\":case\"open-street-map\":case\"tile\":case\"vector-tile\":case\"video\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":return!0;default:return e(a.type),!1}}export{a as isTerrainSurfaceLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../analysis/SlicePlane.js\";import{clock as i}from\"../../../../core/clock.js\";import{destroyMaybe as a,removeMaybe as s}from\"../../../../core/maybe.js\";import{watch as n,sync as r,when as l,syncAndInitial as o}from\"../../../../core/reactiveUtils.js\";import{addFrameTask as h}from\"../../../../core/scheduling.js\";import{createScreenPoint as p,screenPointObjectToArray as u}from\"../../../../core/screenUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromRotation as _,fromScaling as v,multiply as m}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{e as P,l as y,c as w,g,f,t as M,n as T,i as D}from\"../../../../chunks/vec32.js\";import{create as V,clone as b}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{clone as k,ZEROS as S}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{d as E,a as x,n as C,f as j}from\"../../../../chunks/boundedPlane.js\";import{signedDistance as H,create as R,intersectRay as I,getNormal as O}from\"../../../../geometry/support/plane.js\";import{create as z}from\"../../../../geometry/support/ray.js\";import{sv3d as G,sm4d as A,sv2d as U}from\"../../../../geometry/support/vectorStacks.js\";import{getRotateHeadingTexture as L,getTiltRotateTexture as K}from\"../images/Factory.js\";import{ResizeManipulator as B}from\"./ResizeManipulator.js\";import{RotateManipulator as F}from\"./RotateManipulator.js\";import{getOutlineColor as N,planeColor as q}from\"./settings.js\";import{ShiftManipulator as Z,OffsetMode as W}from\"./ShiftManipulator.js\";import{pointerMoveTimerMs as J,planePreviewOutlineWidth as Q,forceVerticalModifier as X,forceHorizontalModifier as Y,previewFadeDurationSeconds as $,previewFadeDotThreshold as tt,initialDepthOffsetFrac as et}from\"./sliceToolConfig.js\";import{createGridVisualElement as it,createOutlineVisualElement as at,planeToShape as st,createRotatePlane as nt,RotationAxis as rt,resizePlane as lt,calculatePlaneHalfSize as ot,SliceOrientation as ht,createPlane as pt,DidPointerMoveRecentlyFlag as ut,calculateBoundedPlaneTranslateRotate as ct,updateShiftRestartHandle as dt,updateRotateHeadingHandle as _t,updateRotateTiltHandle as vt,updateResizeHandle as mt,createShiftPlane as Pt}from\"./sliceToolUtils.js\";import{calculateInputRotationTransform as yt}from\"../../interactive/manipulatorUtils.js\";import{screenToRenderPlane as wt}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{fromScreenNormalized as gt}from\"../../support/geometryUtils/ray.js\";import{AnalysisToolBase as ft}from\"../../../interactive/AnalysisToolBase.js\";import{createManipulatorDragEventPipeline as Mt}from\"../../../interactive/dragEventPipeline.js\";import{newToolIntersector as Tt}from\"../../../interactive/ToolIntersector.js\";import{createScreenPointFromEvent as Dt}from\"../../../support/screenUtils.js\";var Vt;let bt=class extends ft{static{Vt=this}constructor(t){super(t),this._clock=i,this._previewPlaneOpacity=1,this.removeIncompleteOnCancel=!1,this._mode=\"none\",this.shiftManipulator=null,this.rotateHeadingManipulator=null,this.rotateTiltManipulator=null,this.resizeManipulators=null,this._frameTask=null,this._pointerMoveTimerMs=J,this._prevPointerMoveTimeout=null,this._previewPlaneGridVisualElement=null,this._previewPlaneOutlineVisualElement=null,this._startPlane=E(),this._previewPlane=null,this._activeKeyModifiers={},this._lastCursorPosition=p(),this._resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}],this._intersector=Tt(t.view.state.viewingMode)}initialize(){if(null==this.analysis)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");const t=t=>{this._updateManipulatorsInteractive(t),t.grabbing||(null!=this.analysisViewData.plane&&x(this.analysisViewData.plane,this._startPlane),this.inputState=null)},e=new Z(this.view,W.CENTER_ON_ARROW);this.shiftManipulator=e,this.manipulators.add(e),this.addHandles([this._createShiftDragPipeline(e),e.events.on(\"grab-changed\",(i=>{this._onShiftGrab(i),t(e)}))]);const i=!this.view.stage?.renderView.renderingContext.driverTest.svgPremultipliesAlpha.result,a=new F(this.view,((t,e)=>L(this.view.stage.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateHeadingManipulator=a,this.manipulators.add(a),this.addHandles([this._createRotateHeadingDragPipeline(a),a.events.on(\"grab-changed\",(e=>{this._onRotateHeadingGrab(e),t(a)}))]);const s=new F(this.view,((t,e)=>K(this.view.stage.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateTiltManipulator=s,this.manipulators.add(s),this.addHandles([this._createRotateTiltDragPipeline(s),s.events.on(\"grab-changed\",(e=>{this._onRotateTiltGrab(e),t(s)}))]),this.resizeManipulators=this._resizeHandles.map(((e,i)=>{const a=new B(this.view,e);return this.addHandles([this._createResizeDragPipeline(a),a.events.on(\"grab-changed\",(e=>{this._onResizeGrab(e,i),t(a)}))]),a})),this.manipulators.addMany(this.resizeManipulators),this._previewPlaneGridVisualElement=it(this.view),this._previewPlaneOutlineVisualElement=at(this.view),this._previewPlaneOutlineVisualElement.width=Q,this.addHandles(n((()=>[this.analysisViewData.plane,this.analysis.tiltEnabled]),(()=>this._updateManipulators()),r)),this.addHandles([l((()=>\"sliced\"===this.state),(()=>{this.finishToolCreation(),this.stop()}),o),n((()=>this.view.state.camera),(()=>this._onCameraChange()))])}destroy(){this._removeFrameTask(),this._clearPointerMoveTimeout(),this._previewPlaneOutlineVisualElement=a(this._previewPlaneOutlineVisualElement),this._previewPlaneGridVisualElement=a(this._previewPlaneGridVisualElement)}get state(){const t=!!this.analysisViewData.plane,e=!!this.inputState;return t?t&&e?\"slicing\":t&&!e?\"sliced\":\"ready\":\"ready\"}get cursor(){return this.active?this._placingSlicePlane||\"exclude\"===this.mode?\"crosshair\":null!=this._creatingPointerId?\"grabbing\":null:null}set analysis(t){if(null==t)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");this.removeHandles(\"analysis\"),this._set(\"analysis\",t)}get mode(){return this._mode}static{this.disableEngineLayers=!1}get inputState(){return this._get(\"inputState\")}set inputState(t){this._set(\"inputState\",t),this.analysisViewData.showGrid=null!=t&&\"resize\"===t.type,this._updateMaterials()}get _placingSlicePlane(){return this.active&&!this.inputState&&\"place\"===this._mode}get _creatingPointerId(){return null!=this.inputState&&\"shift\"===this.inputState.type?this.inputState.creatingPointerId:null}start(t){this._finishToolCreationIfValid(),this._mode=t,this.active||(this.view.activeTool=this)}stop(){this.active&&(this.view.activeTool=null)}onActivate(){this._finishToolCreationIfValid(),\"none\"===this._mode&&null==this.analysisViewData.plane&&(this._mode=\"place\")}onDeactivate(){this._mode=\"none\",this._updatePreviewPlane(null)}onShow(){this._updateVisibility(!0)}onHide(){this._updateVisibility(!1)}_updateVisibility(t){this._updateManipulators(),t||this._clearPointerMoveTimeout()}onInputEvent(t){switch(t.type){case\"pointer-drag\":if(!St(t))return;this._placingSlicePlane?this._onClickPlacePlane(t)&&t.stopPropagation():this._onPointerDrag(t)&&t.stopPropagation();break;case\"pointer-move\":this._onPointerMove(t);break;case\"pointer-up\":this._onPointerUp(t)&&t.stopPropagation();break;case\"immediate-click\":if(!St(t))return;\"exclude\"===this._mode?t.defer((async()=>{await this._onClickExcludeLayer(t)&&t.stopPropagation()})):this._onClickPlacePlane(t)&&t.stopPropagation();break;case\"drag\":this.inputState&&t.stopPropagation();break;case\"key-down\":this._onKeyDown(t)&&t.stopPropagation();break;case\"key-up\":this._onKeyUp(t)&&t.stopPropagation()}}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}_onPointerDrag(t){const e=this.inputState;if(t.pointerId===this._creatingPointerId&&null!=e&&\"shift\"===e.type){const i=Dt(t);return this.shiftManipulator.events.emit(\"drag\",{action:e.hasBeenDragged?\"update\":\"start\",pointerType:t.pointerType,start:i,screenPoint:i}),e.hasBeenDragged=!0,!0}return!1}_onPointerMove(t){this._lastCursorPosition.x=t.x,this._lastCursorPosition.y=t.y,this._resetPointerMoveTimeout(),\"touch\"!==t.pointerType&&this._updatePreviewPlane(Dt(t),this._activeKeyModifiers)}_onCameraChange(){this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),this._updateManipulators()}_onPointerUp(t){if(t.pointerId===this._creatingPointerId&&null!=this.analysisViewData.plane){const e=Dt(t);return this.shiftManipulator.events.emit(\"drag\",{action:\"end\",start:e,screenPoint:e}),x(this.analysisViewData.plane,this._startPlane),this.inputState=null,!0}return!1}_onClickPlacePlane(t){if(!this._placingSlicePlane)return!1;const i=Dt(t),a=E();if(this._pickPlane(i,!1,this._activeKeyModifiers,a)){if(\"pointer-drag\"===t.type){const e=gt(this.view.state.camera,i,xt);this.inputState=kt(e,t.pointerId,a.origin,a)}return x(a,this._startPlane),this.analysis.shape=st(a,this.view,this.view.spatialReference,new e),\"pointer-drag\"!==t.type&&this.stop(),!0}return!1}async _onClickExcludeLayer(t){if(\"exclude\"!==this.mode)return!1;const e=await this.view.hitTest(Dt(t)),i=e.results.at(0);if(i){const t=\"graphic\"===i.type&&i.graphic;if(t){const e=t.sourceLayer||t.layer;e&&this.analysis.excludedLayers.push(e)}}else e.ground.layer?this.analysis.excludedLayers.push(e.ground.layer):this.analysis.excludeGroundSurface=!0;return this.stop(),!0}_onKeyDown(t){return(t.key===X||t.key===Y)&&(this._activeKeyModifiers[t.key]=!0,null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onKeyUp(t){return!(t.key!==X&&t.key!==Y||!this._activeKeyModifiers[t.key])&&(delete this._activeKeyModifiers[t.key],null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onShiftGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=gt(this.view.state.camera,t.screenPoint,xt);x(this.analysisViewData.plane,this._startPlane),this.inputState=kt(e,null,this.shiftManipulator.renderLocation,this.analysisViewData.plane)}_createShiftDragPipeline(t){return Mt(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"shift\"!==a.type)return;const s=null!=this.analysisViewData.plane?x(this.analysisViewData.plane,E()):null;e.next(wt(this.view,a.shiftPlane)).next(this._shiftDragAdjustSensitivity(a)).next(this._shiftDragUpdatePlane(a)),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_shiftDragAdjustSensitivity(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=.001,a=Math.min((1-Math.abs(P(C(this.analysisViewData.plane),e.ray.direction)/y(e.ray.direction)))/i,1),s=-H(this._startPlane.plane,e.renderEnd),n=-H(this._startPlane.plane,t.startPoint);return t.depth=t.depth*(1-a)+s*a-n,e}}_shiftDragUpdatePlane(t){return()=>{if(null==this.analysisViewData.plane)return;const e=w(G.get(),this._startPlane.origin),i=w(G.get(),C(this._startPlane));g(i,i,-t.depth),f(i,i,e);const a=j(i,this.analysisViewData.plane.basis1,this.analysisViewData.plane.basis2,E());this._updateBoundedPlane(a)}}_onRotateHeadingGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=nt(this.analysisViewData.plane,this.view.renderCoordsHelper,rt.HEADING,R()),i=gt(this.view.state.camera,t.screenPoint,xt),a=V();I(e,i,a)&&(x(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateHeadingDragPipeline(t){return Mt(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"rotate\"!==a.type)return;const s=null!=this.analysisViewData.plane?x(this.analysisViewData.plane,E()):null;e.next(wt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_onRotateTiltGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=nt(this.analysisViewData.plane,this.view.renderCoordsHelper,rt.TILT,R()),i=gt(this.view.state.camera,t.screenPoint,xt),a=V();I(e,i,a)&&(x(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateTiltDragPipeline(t){return Mt(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"rotate\"!==a.type)return;const s=null!=this.analysisViewData.plane?x(this.analysisViewData.plane,E()):null;e.next(wt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_rotateDragRenderPlaneToRotate(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=O(t.rotatePlane),a=yt(t.startPoint,e.renderEnd,this.analysisViewData.plane.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}_rotateDragUpdatePlaneFromRotate(){return t=>{if(null==this.analysisViewData.plane)return;const e=_(A.get(),t.rotateAngle,t.rotateAxis);if(null==e)return;const i=M(G.get(),this._startPlane.basis1,e),a=M(G.get(),this._startPlane.basis2,e),s=j(this.analysisViewData.plane.origin,i,a,E());this._updateBoundedPlane(s)}}_onResizeGrab(t,e){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const i=gt(this.view.state.camera,t.screenPoint,xt),a=G.get();I(this.analysisViewData.plane.plane,i,a)&&(x(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"resize\",activeHandleIdx:e,startPoint:b(a)})}_createResizeDragPipeline(t){return Mt(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"resize\"!==a.type||null==this.analysisViewData.plane)return;const s=x(this.analysisViewData.plane,E());e.next(wt(this.view,this.analysisViewData.plane.plane)).next(this._resizeDragUpdatePlane(a)),i.next((()=>{this._updateBoundedPlane(s)}))}))}_resizeDragUpdatePlane(t){return e=>{if(null==this.analysisViewData.plane)return;const i=this._resizeHandles[t.activeHandleIdx],a=lt(i,t.startPoint,e.renderEnd,this.view.state.camera,this._startPlane,x(this.analysisViewData.plane));this._updateBoundedPlane(a)}}_updateBoundedPlane(t){const e=this.analysisViewData;if(null==e)throw new Error(\"valid internal object expected\");e.plane=t}_updatePreviewPlane(t,e={}){if(\"exclude\"===this.mode)return;let i=this._previewPlane;if(this._previewPlane=null,null==t)return this._removeFrameTask(),void this._updateManipulators();if(this.active){const a=null!=i?i:E();if(i=null!=i?x(i,Et):null,this._pickPlane(t,!0,e,a)){const t=tt;let e=!1;null!=i&&(e=P(O(i.plane),O(a.plane))<t||P(T(G.get(),i.basis1),T(G.get(),a.basis1))<t),e&&(this._previewPlaneOpacity=0),this._previewPlane=a}}null!=this._previewPlane&&null==this._frameTask&&0===this._previewPlaneOpacity?this._frameTask=h({update:({deltaTime:t})=>{this._previewPlaneOpacity=Math.min(this._previewPlaneOpacity+t/(1e3*$),1),this._updateManipulators(),1===this._previewPlaneOpacity&&this._removeFrameTask()}}):null==this._previewPlane&&null!=this._frameTask?this._removeFrameTask():null!=this._previewPlane&&this._updateManipulators()}_removeFrameTask(){this._frameTask=s(this._frameTask)}_pickMinResult(t){const e=u(t,U.get());return this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(e,this._intersector),this._intersector.results.min}_pickPlane(t,e,i,a){const s=this._pickMinResult(t),n=G.get();if(!s.getIntersectionPoint(n))return!1;const r=s.getTransformedNormal(G.get()),l=this.view.state.camera;P(r,l.viewForward)>0&&g(r,r,-1);const o=ot(n,l),h=(e?1:-1)*o*et,p=g(G.get(),r,h);f(p,p,n);const u=this.analysis.tiltEnabled?ht.TILTED:ht.HORIZONTAL_OR_VERTICAL,c=i[X]?ht.VERTICAL:i[Y]?ht.HORIZONTAL:u;return pt(p,r,o,o,l,c,this.view.renderCoordsHelper,a),!0}_clearPointerMoveTimeout(){this._prevPointerMoveTimeout=s(this._prevPointerMoveTimeout)}_resetPointerMoveTimeout(){this._clearPointerMoveTimeout(),this.shiftManipulator.state|=ut,this.rotateHeadingManipulator.state|=ut,this.rotateTiltManipulator.state|=ut,this._prevPointerMoveTimeout=this._clock.setTimeout((()=>{this.shiftManipulator.state&=~ut,this.rotateHeadingManipulator.state&=~ut,this.rotateTiltManipulator.state&=~ut}),this._pointerMoveTimerMs)}_updateManipulators(){if(Vt.disableEngineLayers)return;let t,e,i=!1;if(null!=this.analysisViewData.plane)t=this.analysisViewData.plane,e=this._previewPlane??t,i=!1;else{if(null==this._previewPlane)return this._setManipulatorVisibility(!1),void this._setPreviewPlaneVisibility(!1);e=t=this._previewPlane,i=!0}if(this._setManipulatorVisibility(!i),!i){const e=ct(t,A.get());dt(this.shiftManipulator,e,t,this.view.state.camera),_t(this.rotateHeadingManipulator,e,t,this.view.renderCoordsHelper),vt(this.rotateTiltManipulator,e,t),this.resizeManipulators.forEach(((i,a)=>mt(i,this._resizeHandles[a],e,t)))}this._setPreviewPlaneVisibility(!this._creatingPointerId&&(i||\"place\"===this._mode)),this._updatePreviewPlaneTransform(e),this._updateMaterials()}_setManipulatorVisibility(t){this.shiftManipulator.available=t,this.rotateHeadingManipulator.available=t,this.rotateTiltManipulator.available=t&&this.analysis.tiltEnabled,this.resizeManipulators.forEach((e=>e.available=t))}_updatePreviewPlaneTransform(t){const e=ct(t,A.get()),i=D(G.get(),y(t.basis1),y(t.basis2),1),a=v(A.get(),i),s=m(a,e,a);this._previewPlaneOutlineVisualElement.transform=s,this._previewPlaneGridVisualElement.transform=s}_setPreviewPlaneVisibility(t){const e=this._previewPlaneOutlineVisualElement,i=this._previewPlaneGridVisualElement;t&&(e.attached=!0,i.attached=!0),e.visible=t,i.visible=t}_updateMaterials(){const t=N(this.view.effectiveTheme);t[3]*=this._previewPlaneOpacity;const e=k(q);e[3]*=this._previewPlaneOpacity,this._previewPlaneOutlineVisualElement.color=t,this._previewPlaneGridVisualElement.backgroundColor=e,this._previewPlaneGridVisualElement.gridColor=S}_updateManipulatorsInteractive(t){if(!t.grabbing)return this.shiftManipulator.interactive=!0,this.rotateHeadingManipulator.interactive=!0,this.rotateTiltManipulator.interactive=!0,void this.resizeManipulators.forEach((t=>{t.interactive=!0}));this.shiftManipulator.interactive=this.shiftManipulator===t,this.rotateHeadingManipulator.interactive=this.rotateHeadingManipulator===t,this.rotateTiltManipulator.interactive=this.rotateTiltManipulator===t,this.resizeManipulators.forEach((e=>{e.interactive=e===t}))}_finishToolCreationIfValid(){this.analysis.valid&&this.finishToolCreation()}get test(){return{plane:this.analysisViewData.plane,setPointerMoveTimerMs:t=>{this._pointerMoveTimerMs=t}}}};function kt(t,e,i,a){const s=Pt(i,C(a),t.direction,R()),n=V();return I(s,t,n)?{type:\"shift\",creatingPointerId:e,hasBeenDragged:!1,shiftPlane:s,depth:0,startPoint:n}:null}function St(t){return\"mouse\"!==t.pointerType||0===t.button}t([c()],bt.prototype,\"_clock\",void 0),t([c({constructOnly:!0})],bt.prototype,\"view\",void 0),t([c()],bt.prototype,\"analysisViewData\",void 0),t([c({readOnly:!0})],bt.prototype,\"state\",null),t([c({readOnly:!0})],bt.prototype,\"cursor\",null),t([c()],bt.prototype,\"analysis\",null),t([c()],bt.prototype,\"removeIncompleteOnCancel\",void 0),t([c()],bt.prototype,\"_mode\",void 0),t([c()],bt.prototype,\"mode\",null),t([c({value:null})],bt.prototype,\"inputState\",null),t([c()],bt.prototype,\"_placingSlicePlane\",null),t([c()],bt.prototype,\"_creatingPointerId\",null),bt=Vt=t([d(\"esri.views.3d.analysis.Slice.SliceTool\")],bt);const Et=E(),xt=z();export{bt as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{destroyHandle as t}from\"../../../../core/handleUtils.js\";import{watch as s,syncAndInitial as o}from\"../../../../core/reactiveUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromScaling as a,multiply as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{i as m,l as p}from\"../../../../chunks/vec32.js\";import{ZEROS as u}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{sv3d as c,sm4d as h}from\"../../../../geometry/support/vectorStacks.js\";import{getGridColor as d,getOutlineColor as v,planeColor as g}from\"./settings.js\";import{planePreviewOutlineWidth as w,planeOutlineWidth as V}from\"./sliceToolConfig.js\";import{createGridVisualElement as _,createOutlineVisualElement as f,calculateBoundedPlaneTranslateRotate as E}from\"./sliceToolUtils.js\";import{createStipplePatternSimple as j}from\"../../webgl-engine/materials/lineStippleUtils.js\";let b=class extends e{constructor(i){super(i),this._gridVisualElement=null,this._outlineVisualElement=null,this.showGrid=!1,this.preview=!0}initialize(){const i=this.analysisViewData;if(null==i)throw new Error(\"expected internal object to be valid\");this._gridVisualElement=_(this.view),this._outlineVisualElement=f(this.view),this.addHandles([s((()=>{const e=null!=i.plane&&this.analysisViewData.visible,{active:t}=this.analysisViewData,{preview:s,showGrid:o,view:r}=this,{effectiveTheme:l}=r;return{visible:e,active:t,preview:s,showGrid:o,gridColor:d(l),outlineColor:v(l)}}),(i=>this._updateMaterials(i)),o),s((()=>i.plane),(i=>this._updatePlane(i)),o),t(this._gridVisualElement),t(this._outlineVisualElement),s((()=>\"web-scene\"!==this.analysis?.origin?.type),(i=>{this._gridVisualElement.isDecoration=i,this._outlineVisualElement.isDecoration=i}),o)])}destroy(){this.set(\"view\",null)}_updatePlane(i){if(null==i)return;this._gridVisualElement.attached=!0,this._outlineVisualElement.attached=!0;const e=m(c.get(),p(i.basis1),p(i.basis2),1),t=a(h.get(),e),s=E(i,h.get()),o=n(t,s,t);this._outlineVisualElement.transform=o,this._gridVisualElement.transform=o}_updateMaterials({visible:i,active:e,preview:t,showGrid:s,gridColor:o,outlineColor:r}){this._outlineVisualElement.color=r,this._outlineVisualElement.width=t?w:V,this._outlineVisualElement.stipplePattern=e?null:j(5),this._gridVisualElement.backgroundColor=g,this._gridVisualElement.gridColor=s?o:u,this._gridVisualElement.visible=i,this._outlineVisualElement.visible=i}};i([r()],b.prototype,\"view\",void 0),i([r()],b.prototype,\"analysis\",void 0),i([r()],b.prototype,\"analysisViewData\",void 0),i([r()],b.prototype,\"showGrid\",void 0),i([r()],b.prototype,\"preview\",void 0),b=i([l(\"esri.views.3d.analysis.Slice.SliceVisualization\")],b);export{b as SliceVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Accessor.js\";import\"../../../core/has.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView3D as e}from\"./AnalysisView3D.js\";import{SliceController as l}from\"./Slice/SliceController.js\";import r from\"./Slice/SliceTool.js\";import{SliceVisualization as n}from\"./Slice/SliceVisualization.js\";import{connectAnalysisViewToTool as p,removeAnalysisViewTool as y,startPlaceOperation as c,startExclusiveInteractiveOperation as h}from\"../../analysis/analysisViewUtils.js\";let u=class extends(e(s)){constructor(i){super(i),this.type=\"slice-view-3d\",this.analysis=null,this.tool=null,this.plane=null,this.active=!0,this.userOperation=null,this._analysisVisualization=null,this._analysisController=null}initialize(){this._analysisVisualization=new n({view:this.view,analysis:this.analysis,analysisViewData:this}),this._analysisController=new l({view:this.view,analysis:this.analysis,analysisViewData:this}),this.addHandles(p(this,r))}destroy(){y(this),this._analysisVisualization=t(this._analysisVisualization),this._analysisController=t(this._analysisController)}get editable(){return!this._analysisVisualization.preview}set editable(i){this._analysisVisualization.preview=!i}get showGrid(){return this._analysisVisualization?.showGrid??!1}set showGrid(i){this._analysisVisualization&&(this._analysisVisualization.showGrid=i)}get testData(){}place(i){return this.active=!0,c(this,{placementOptions:i,onToolActivated:i=>i.start(\"place\")})}async pickLayerToExclude(i){return this.active=!0,h(this,{abortOptions:i,onToolActivated:i=>i.start(\"exclude\")})}};i([o({readOnly:!0})],u.prototype,\"type\",void 0),i([o({constructOnly:!0,nonNullable:!0})],u.prototype,\"analysis\",void 0),i([o()],u.prototype,\"tool\",void 0),i([o()],u.prototype,\"plane\",void 0),i([o()],u.prototype,\"active\",void 0),i([o()],u.prototype,\"editable\",null),i([o()],u.prototype,\"showGrid\",null),i([o()],u.prototype,\"userOperation\",void 0),i([o()],u.prototype,\"_analysisVisualization\",void 0),i([o()],u.prototype,\"_analysisController\",void 0),u=i([a(\"esri.views.3d.analysis.SliceAnalysisView3D\")],u);const d=u;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ObjectAndLayerIdColor as o}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{terrainDepthTest as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{ColorConversion as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{If as n,glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as m}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as v}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{NoParameters as c}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as p}from\"../views/webgl/ShaderBuilder.js\";class u extends c{}function w(c){const u=new p,{vertex:w,fragment:b,varyings:f}=u,{output:h,perspectiveInterpolation:j}=c;return a(w,c),u.include(i,c),u.include(s,c),u.fragment.include(r,c),u.include(o,c),u.include(v,c),u.attributes.add(m.POSITION,\"vec3\"),u.attributes.add(m.UV0,\"vec2\"),j&&u.attributes.add(m.PERSPECTIVEDIVIDE,\"float\"),w.main.add(d`\n    vpos = position;\n    forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);\n    vTexCoord = uv0;\n    gl_Position = transformPosition(proj, view, vpos);\n    ${n(j,\"gl_Position *= perspectiveDivide;\")}`),f.add(\"vpos\",\"vec3\",{invariant:!0}),f.add(\"vTexCoord\",\"vec2\"),b.include(t),b.uniforms.add(new l(\"opacity\",(e=>e.opacity)),new g(\"tex\",(e=>e.glTexture))).main.add(d`\n    discardBySlice(vpos);\n    discardByTerrainDepth();\n    ${n(h===e.ObjectAndLayerIdColor,\"fragColor = vec4(0, 0, 0, 1); return;\")}\n    vec4 finalColor = texture(tex, vTexCoord) * opacity;\n    outputColorHighlightOID(finalColor, vpos, finalColor.rgb);`),u}const b=Object.freeze(Object.defineProperty({__proto__:null,ImageMaterialPassParameters:u,build:w},Symbol.toStringTag,{value:\"Module\"}));export{b as I,u as a,w as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isColorOrColorEmission as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as i}from\"../lib/OITPass.js\";import{oitPolygonOffset as l,getDrawBuffers as s,depthWrite as n,oitDepthTest as o,oitBlending as a}from\"../lib/OrderIndependentTransparency.js\";import{stencilToolMaskBaseParams as p,stencilBaseAllZerosParams as c,stencilWriteMaskOn as u}from\"../lib/StencilUtils.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{I as d}from\"../../../../chunks/ImageMaterial.glsl.js\";import{makePipelineState as h,defaultColorWrite as f,cullingParams as g,premultipliedAlpha as P}from\"../../../webgl/renderState.js\";class j extends r{constructor(e,r){super(e,r,new t(d,(()=>import(\"./ImageMaterial.glsl.js\"))),I)}_getPipelineState(t,r){const{oitPass:m,output:d,hasOccludees:j,cullFace:I}=t,S=m===i.NONE;return h({blending:e(d)?S?P:a(m):null,culling:g(I),depthTest:{func:o(m)},depthWrite:n(t),drawBuffers:s(m,d),colorWrite:f,stencilWrite:j?u:null,stencilTest:j?r?p:c:null,polygonOffset:l(t)})}initializePipeline(e){return this._occludeePipeline=this._getPipelineState(e,!0),this._getPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}const I=new Map([[m.POSITION,0],[m.UV0,2],[m.PERSPECTIVEDIVIDE,3]]);export{j as ImageMaterialTechnique,I as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class a extends s{constructor(e){super(),this.draped=e,this.cullFace=i.None,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.perspectiveInterpolation=!0,this.textureCoordinateType=t.None,this.emissionSource=o.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.objectAndLayerIdColorInstanced=!1,this.snowCover=!1}}e([r({count:i.COUNT})],a.prototype,\"cullFace\",void 0),e([r()],a.prototype,\"enableOffset\",void 0),e([r()],a.prototype,\"writeDepth\",void 0),e([r()],a.prototype,\"hasOccludees\",void 0),e([r()],a.prototype,\"terrainDepthTest\",void 0),e([r()],a.prototype,\"cullAboveTerrain\",void 0),e([r()],a.prototype,\"perspectiveInterpolation\",void 0);export{a as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as e}from\"../../../../geometry/support/buffer/BufferView.js\";import{isHighlightOrOID as t,isColor as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import s from\"../lib/GLMaterial.js\";import{isUpdatableTexture as a}from\"../lib/ITexture.js\";import{MaterialParameters as o}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as n}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as u}from\"../lib/RenderSlot.js\";import{assert as p}from\"../lib/Util.js\";import{VertexAttribute as l}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as c}from\"./DefaultBufferWriter.js\";import{PositionUvLayout as h}from\"./DefaultLayouts.js\";import{TriangleMaterial as f}from\"./TriangleMaterial.js\";import{writeBufferFloat as m,writeDefaultAttribute as g}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as d,ImageMaterialTechnique as T}from\"../shaders/ImageMaterialTechnique.js\";import{ImageMaterialTechniqueConfiguration as I}from\"../shaders/ImageMaterialTechniqueConfiguration.js\";class _ extends f{constructor(e){super(e,x),this.vertexAttributeLocations=d,this.supportsEdges=!0,this.produces=new Map([[u.OPAQUE_MATERIAL,e=>t(e)],[u.TRANSPARENT_MATERIAL,e=>r(e)&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>r(e)&&!this.parameters.writeDepth],[u.DRAPED_MATERIAL,e=>r(e)||t(e)]]),this._configuration=new I(e.draped)}dispose(){this.setParameters({texture:void 0})}getConfiguration(e,t){return super.getConfiguration(e,t,this._configuration),this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=t.hasOccludees,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<n,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}get visible(){return!0}createGLMaterial(e){return new b(e)}createBufferWriter(){let e=h;return this.parameters.perspectiveInterpolation&&(e=e.clone().f32(l.PERSPECTIVEDIVIDE)),new E(e)}}class b extends s{constructor(e){super({...e,...e.material.parameters}),this.parameters=e;const t=this._material.parameters.texture;a(t)&&e.textures.updater.add(t)}dispose(){this.parameters.textures.updater.remove(this._material.parameters.texture)}beginSlot(e){return this.getTechnique(T,e)}}class E extends c{write(t,r,i,s,a,o){for(const n of this.vertexBufferLayout.fields.keys()){const s=i.get(n);if(s)if(n===l.PERSPECTIVEDIVIDE){p(1===s.size);const t=a.getField(n,e);t&&m(s,t,o)}else g(n,s,t,r,a,o)}return null}}class x extends o{constructor(e,t){super(),this.texture=e,this.draped=t,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=i.None,this.opacity=1,this.perspectiveInterpolation=!1}get glTexture(){return this.texture.glTexture}}export{_ as ImageMaterial,x as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nconst t={dash:[4,3],dot:[1,3],\"long-dash\":[8,3],\"short-dash\":[4,1],\"short-dot\":[1,1]},o={dash:t.dash,\"dash-dot\":[...t.dash,...t.dot],dot:t.dot,\"long-dash\":t[\"long-dash\"],\"long-dash-dot\":[...t[\"long-dash\"],...t.dot],\"long-dash-dot-dot\":[...t[\"long-dash\"],...t.dot,...t.dot],none:null,\"short-dash\":t[\"short-dash\"],\"short-dash-dot\":[...t[\"short-dash\"],...t[\"short-dot\"]],\"short-dash-dot-dot\":[...t[\"short-dash\"],...t[\"short-dot\"],...t[\"short-dot\"]],\"short-dot\":t[\"short-dot\"],solid:null},d=8;function s(t,o){return null==t?t:{pattern:t.slice(),pixelRatio:o}}function h(t){return{pattern:[t,t],pixelRatio:2}}function n(t){return\"style\"===t?.type?l(t.style):null}function l(t){return null!=t?s(o[t],d):null}export{h as createStipplePatternSimple,n as getStipplePatternForLinePattern,l as getStipplePatternForPatternStyle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{Intersector as e}from\"../3d/webgl-engine/lib/Intersector.js\";import{StoreResults as n}from\"../3d/webgl-engine/lib/IntersectorInterfaces.js\";function o(o){const t=new e(o);return t.options.store=n.MIN,t.options.excludeLabels=!0,t}export{o as newToolIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{fromValues as t}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Material as i}from\"../lib/Material.js\";import{intersectTriangleGeometry as p}from\"../lib/RayIntersections.js\";class r extends i{constructor(){super(...arguments),this._pp0=t(0,0,1),this._pp1=t(0,0,0)}intersect(t,i,r,s,e,o){return p(t,r,s,e,void 0,o)}intersectDraped(t,i,r,s){return this._pp0[0]=this._pp1[0]=r[0],this._pp0[1]=this._pp1[1]=r[1],p(t,i,this._pp0,this._pp1,void 0,s)}}export{r as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{floatEqualAbsolute as t}from\"../../core/mathUtils.js\";import{subtract as n,scaleAndAdd as r,add as e,length as s,dot as o,squaredLength as c,scale as u,distance as i,copy as f}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a,clone as p}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";function m(t,n){return t[0]*n[1]-t[1]*n[0]}function h(t,n,r){const e=(n[0]-t[0])*(r[1]-t[1])-(n[1]-t[1])*(r[0]-t[0]);return Math.abs(e)/i(n,r)}function E(t,n,r){const e=o(r,n)/c(r);return u(t,r,e)}function I(t,r,s,o,c=s){return n(x,o,s),n(g,r,c),E(A,g,x),e(t,c,A)}function L(t,e,s,u){n(x,u,s),n(g,e,s);const i=o(x,g)/c(x);return i>0?r(t,s,x,i):f(t,s)}function N(t,e,o,c){n(x,e,o);const u=c/s(x);return r(t,o,x,u)}function l(n,r){return I(g,r,n.start,n.end),t(g[0],r[0])&&t(g[1],r[1])?[p(r)]:[]}function y(n,r,e){return N(g,e,n,r),t(g[0],e[0])&&t(g[1],e[1])?[p(e)]:[]}function b(t,e){const s=t.start,o=t.end,c=e.start,u=e.end,i=n(x,o,s),f=n(M,u,c),a=m(i,f);if(Math.abs(a)<=v)return[];const p=n(g,s,c),h=m(f,p)/a,E=m(i,p)/a;if(h>=0){if(E>=0||e.type===j.LINE)return[r(A,s,i,h)]}else if(t.type===j.LINE&&(E>=0||e.type===j.LINE))return[r(A,s,i,h)];return[]}function d(t,e,s){const u=[],i=n(x,t.end,t.start),f=n(M,t.start,e),a=c(i),p=2*o(i,f),m=p*p-4*a*(c(f)-s*s);if(0===m){const n=-p/(2*a);(t.type===j.LINE||n>=0)&&u.push(r(A,t.start,i,n))}else if(m>0){const n=Math.sqrt(m),e=(-p+n)/(2*a);(t.type===j.LINE||e>=0)&&u.push(r(A,t.start,i,e));const s=(-p-n)/(2*a);(t.type===j.LINE||s>=0)&&u.push(r(g,t.start,i,s))}return u}var j;!function(t){t[t.RAY=0]=\"RAY\",t[t.LINE=1]=\"LINE\"}(j||(j={}));const v=1e-6,x=a(),M=a(),g=a(),A=a();export{j as LineType,m as cross,y as intersectCircleAndPoint,l as intersectLineAndPoint,b as intersectLineAndRay,d as intersectLineLikeAndCircle,h as pointToLineDistance,E as projectPoint,N as projectPointToCircle,I as projectPointToLine,L as projectPointToRay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttribute as O}from\"../lib/VertexAttribute.js\";const I=e().vec3f(O.POSITION),c=e().vec3f(O.POSITION).vec2f16(O.UV0),f=e().vec3f(O.POSITION).vec4u8(O.COLOR),v=e().vec3f(O.POSITION).vec2f16(O.UV0).vec4u8(O.OLIDCOLOR),t=e().vec3f(O.POSITION).vec2f(O.UV0),r=e().vec3f(O.POSITION).vec2f(O.UV0).vec4u8(O.OLIDCOLOR);export{f as PositionColorLayout,I as PositionLayout,c as PositionUvLayout,v as PositionUvOlidLayout,t as PositionUvf32Layout,r as PositionUvf32OlidLayout};\n"],"names":["async","n","_n$fieldsIndex","_n$fieldsIndex2","p","arguments","length","undefined","popupTemplate","u","getRequiredFields","fieldsIndex","lastEditInfoEnabled","t","objectIdField","d","typeIdField","s","globalIdField","i","relationships","a","includes","o","e","f","l","push","has","forEach","_n$fieldsIndex3","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","r","EsriPromiseMixin","constructor","super","this","parent","_userInteractive","_interactiveViewModelCount","interactive","updating","visible","suspended","_overrideIfSome","forceInteractive","constructOnly","prototype","type","Boolean","readOnly","initialize","addHandles","analysisViewData","deactivate","onDeactivate","created","analysis","clear","resetCreated","_set","q","T","P","C","plane","c","action","screenStart","R","get","w","state","camera","Q","screenEnd","_objectSpread","renderStart","renderEnd","ray","M","sceneIntersectionHelper","intersectElevationFromScreen","x","y","mapStart","mapEnd","D","b","N","toMap","elevationInfo","G","O","next","K","L","g","renderCoordsHelper","worldUpAtPosition","E","eye","h","m","v","viewingMode","Math","sign","k","F","execute","A","J","j","fromRenderCoords","spatialReference","z","disableDisplay","remove","B","options","selectionMode","store","I","MIN","hud","requiresGroundFeedback","enableDraped","exclude","Set","map","ground","opacity","add","H","delete","intersectIntersectorScreen","results","min","getIntersectionPoint","intersector","U","TERRAIN","GROUND","OTHER","location","surfaceType","S","view","tool","tools","_a$abortOptions","userOperation","_a$shouldRejectOnCanc","promise","catch","abort","activeTool","_t$tool","active","signal","shouldRejectOnCancel","_a$onToolActivated","onToolActivated","call","aborted","abortOptions","finally","clone","placementOptions","valid","equals","_internalChange","_currentSlicePlane","excludedLayers","on","item","getLogger","error","concat","title","id","preventDefault","_m$get","set","all","activeController","_updateSlicePlaneFromBoundedPlane","_updateLayerViews","excludeGroundSurface","_updateActiveController","_updateViewSlicePlane","_updateViewSlicePlaneDecoration","_allLayerAndSubLayerViews","shape","_updateBoundedPlaneFromSlicePlane","_this$analysis$origin","origin","destroy","slice","_t$all$lastIndexOf","Error","lastIndexOf","splice","allLayerViews","items","filter","flatMap","_ref","sublayerViews","position","tiltEnabled","heading","tilt","width","height","V","_t$analysis$origin","isDecoration","_","layers","destroyed","slicePlaneEnabled","layer","sublayer","basemapTerrain","Map","Vt","bt","_Class","ft","_clock","_previewPlaneOpacity","removeIncompleteOnCancel","_mode","shiftManipulator","rotateHeadingManipulator","rotateTiltManipulator","resizeManipulators","_frameTask","_pointerMoveTimerMs","_prevPointerMoveTimeout","_previewPlaneGridVisualElement","_previewPlaneOutlineVisualElement","_startPlane","_previewPlane","_activeKeyModifiers","_lastCursorPosition","_resizeHandles","direction","_intersector","Tt","_this$view$stage","_updateManipulatorsInteractive","grabbing","inputState","Z","W","CENTER_ON_ARROW","manipulators","_createShiftDragPipeline","events","_onShiftGrab","stage","renderView","renderingContext","driverTest","svgPremultipliesAlpha","result","textures","accentColor","contrastColor","preMultiplyAlpha","_createRotateHeadingDragPipeline","_onRotateHeadingGrab","_createRotateTiltDragPipeline","_onRotateTiltGrab","_createResizeDragPipeline","_onResizeGrab","addMany","it","at","_updateManipulators","finishToolCreation","stop","_onCameraChange","_removeFrameTask","_clearPointerMoveTimeout","cursor","_placingSlicePlane","mode","_creatingPointerId","removeHandles","_get","showGrid","_updateMaterials","creatingPointerId","start","_finishToolCreationIfValid","onActivate","_updatePreviewPlane","onShow","_updateVisibility","onHide","onInputEvent","St","_onClickPlacePlane","stopPropagation","_onPointerDrag","_onPointerMove","_onPointerUp","defer","_onClickExcludeLayer","_onKeyDown","_onKeyUp","onEditableChange","editable","internallyEditable","pointerId","Dt","emit","hasBeenDragged","pointerType","screenPoint","_resetPointerMoveTimeout","_pickPlane","gt","xt","kt","st","hitTest","graphic","sourceLayer","key","X","Y","renderLocation","Mt","wt","shiftPlane","_shiftDragAdjustSensitivity","_shiftDragUpdatePlane","_updateBoundedPlane","abs","startPoint","depth","basis1","basis2","nt","rt","HEADING","rotatePlane","_rotateDragRenderPlaneToRotate","_rotateDragUpdatePlaneFromRotate","TILT","yt","rotateAxis","rotateAngle","activeHandleIdx","_resizeDragUpdatePlane","lt","Et","tt","update","deltaTime","$","_pickMinResult","intersectToolIntersectorScreen","getTransformedNormal","viewForward","ot","et","ht","TILTED","HORIZONTAL_OR_VERTICAL","VERTICAL","HORIZONTAL","pt","ut","setTimeout","_this$_previewPlane","disableEngineLayers","_setManipulatorVisibility","_setPreviewPlaneVisibility","ct","dt","_t","vt","mt","_updatePreviewPlaneTransform","available","transform","attached","effectiveTheme","color","backgroundColor","gridColor","test","setPointerMoveTimerMs","Pt","button","value","_gridVisualElement","_outlineVisualElement","preview","outlineColor","_updatePlane","_this$analysis","stipplePattern","_analysisVisualization","_analysisController","_this$_analysisVisual","_this$_analysisVisual2","testData","place","pickLayerToExclude","nonNullable","vertex","fragment","varyings","output","perspectiveInterpolation","include","attributes","POSITION","UV0","PERSPECTIVEDIVIDE","main","_templateObject","_taggedTemplateLiteral","invariant","uniforms","glTexture","_templateObject2","ObjectAndLayerIdColor","Object","freeze","defineProperty","__proto__","ImageMaterialPassParameters","build","Symbol","toStringTag","_getPipelineState","oitPass","hasOccludees","cullFace","NONE","blending","culling","depthTest","func","depthWrite","drawBuffers","colorWrite","stencilWrite","stencilTest","polygonOffset","initializePipeline","_occludeePipeline","getPipeline","draped","None","enableOffset","writeDepth","terrainDepthTest","cullAboveTerrain","textureCoordinateType","emissionSource","discardInvisibleFragments","occlusionPass","objectAndLayerIdColorInstanced","snowCover","count","COUNT","vertexAttributeLocations","supportsEdges","produces","OPAQUE_MATERIAL","TRANSPARENT_MATERIAL","parameters","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","DRAPED_MATERIAL","_configuration","dispose","setParameters","texture","getConfiguration","hasSlicePlane","relativeElevation","createGLMaterial","createBufferWriter","f32","material","_material","updater","beginSlot","getTechnique","write","vertexBufferLayout","fields","keys","size","getField","dash","dot","none","solid","pattern","pixelRatio","style","excludeLabels","_pp0","_pp1","intersect","intersectDraped","end","LINE","sqrt","RAY","vec3f","vec2f16","vec4u8","COLOR","OLIDCOLOR","vec2f"],"sourceRoot":""}