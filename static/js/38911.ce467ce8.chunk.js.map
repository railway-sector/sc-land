{"version":3,"file":"static/js/38911.ce467ce8.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/geometry/support/MeshTransform.js","../node_modules/@arcgis/core/layers/graphics/applyEditsUtils.js","../node_modules/@arcgis/core/layers/graphics/editingSupport.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import{ClonableMixin as o}from\"../../core/Clonable.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{fromRotationTranslationScale as i,invert as a,exactEquals as l}from\"../../core/libs/gl-matrix-2/math/mat4.js\";import{create as n}from\"../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{setAxisAngle as p}from\"../../core/libs/gl-matrix-2/math/quat.js\";import{create as m}from\"../../core/libs/gl-matrix-2/factories/quatf64.js\";import{create as c,fromArray as u,fromValues as f,clone as h}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromAxisAndAngle as x,angle as g,angleRad as j,axis as b,up as y}from\"./axisAngleDegrees.js\";let d=class extends(o(r)){constructor(t){super(t),this.translation=c(),this.rotationAxis=u(y),this.rotationAngle=0,this.scale=f(1,1,1)}get rotation(){return x(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=h(b(t)),this.rotationAngle=g(t)}get localMatrix(){const t=n();return p(A,b(this.rotation),j(this.rotation)),i(t,A,this.translation,this.scale),t}get localMatrixInverse(){return a(n(),this.localMatrix)}equals(t){return this===t||null!=t&&l(this.localMatrix,t.localMatrix)}};t([e({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,\"translation\",void 0),t([e({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,\"rotationAxis\",void 0),t([e({type:Number,nonNullable:!0,json:{write:!0}})],d.prototype,\"rotationAngle\",void 0),t([e({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,\"scale\",void 0),t([e()],d.prototype,\"rotation\",null),t([e()],d.prototype,\"localMatrix\",null),t([e()],d.prototype,\"localMatrixInverse\",null),d=t([s(\"esri.geometry.support.MeshTransform\")],d);const A=m();export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Error.js\";import r from\"../../core/Logger.js\";import{getMetersPerCartesianUnitForSR as a}from\"../../core/unitUtils.js\";import{parseData as s}from\"../../core/urlUtils.js\";import{isEqualBaseGCS as o,canProjectWithoutEngine as n,projectWithoutEngine as l}from\"../../geometry/projectionUtils.js\";import{fromJSON as i}from\"../../geometry/support/jsonUtils.js\";import u from\"../../geometry/support/MeshTransform.js\";import{equals as d}from\"../../geometry/support/spatialReferenceUtils.js\";import{isFeatureIdentifierArrayWithGlobalId as c,isFeatureIdentifierArrayWithObjectId as p}from\"./editingSupport.js\";async function m(e,t,r){const{geometry:s}=t,i={...t.attributes};if(null!=r&&\"mesh\"===s?.type){const{transformFieldRoles:t}=r,{origin:c,spatialReference:p,vertexSpace:m}=s,f=s.transform??new u,g=\"local\"===m.type,b=e.spatialReference,y=b.isGeographic,R=d(b,p),h=o(p,b)&&n(p,b);if(!(g&&y&&h||!g&&!y&&R))return null;const I=l(c,p,b);if(null==I)return null;if(i[t.originX]=I.x,i[t.originY]=I.y,i[t.originZ]=I.z??0,null!=f){const{translation:e,scale:r,rotation:s}=f,o=g?1:a(p)/a(b);i[t.translationX]=e[0]*o,i[t.translationY]=e[2]*o,i[t.translationZ]=-e[1]*o,i[t.scaleX]=r[0],i[t.scaleY]=r[2],i[t.scaleZ]=r[1],i[t.rotationX]=s[0],i[t.rotationY]=s[2],i[t.rotationZ]=-s[1],i[t.rotationDeg]=s[3]}return{attributes:i}}return null==s?{attributes:i}:\"mesh\"===s.type||\"extent\"===s.type?null:{geometry:s.toJSON(),attributes:i}}async function f(e,t){const r=await Promise.all((t.addAttachments??[]).map(t=>g(e,t))),a=await Promise.all((t.updateAttachments??[]).map(t=>g(e,t))),s=t.deleteAttachments??[];return r.length||a.length||s.length?{adds:r,updates:a,deletes:[...s]}:null}async function g(e,t){const{feature:r,attachment:a}=t,{globalId:o,name:n,contentType:l,data:i,uploadId:u}=a,d={globalId:o};if(r&&(\"attributes\"in r?d.parentGlobalId=r.attributes?.[e.globalIdField]:r.globalId&&(d.parentGlobalId=r.globalId)),u)d.uploadId=u;else if(i){const e=await s(i);e&&(d.contentType=e.mediaType,d.data=e.data),i instanceof File&&(d.name=i.name)}return n&&(d.name=n),l&&(d.contentType=l),d}function b(e,t,r){if(!t||0===t.length)return[];if(r&&c(t))return t.map(e=>e.globalId);if(p(t))return t.map(e=>e.objectId);const a=r?e.globalIdField:e.objectIdField;return a?t.map(e=>e.getAttribute(a)):[]}function y(e){const t=e?.assetMaps;if(t){for(const e of t.addResults)e.success||r.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${e.globalId}.`);for(const e of t.updateResults)e.success||r.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${e.globalId}.`)}const a=e?.attachments,s={addFeatureResults:e?.addResults?.map(R)??[],updateFeatureResults:e?.updateResults?.map(R)??[],deleteFeatureResults:e?.deleteResults?.map(R)??[],addAttachmentResults:a?.addResults?a.addResults.map(R):[],updateAttachmentResults:a?.updateResults?a.updateResults.map(R):[],deleteAttachmentResults:a?.deleteResults?a.deleteResults.map(R):[]};return e?.editMoment&&(s.editMoment=e.editMoment),s}function R(e){const r=!0===e.success?null:e.error||{code:void 0,description:\"Feature edit failed\"};return{objectId:e.objectId,globalId:e.globalId,error:r?new t(\"feature-layer-source:edit-failure\",r.description,{code:r.code}):null}}function h(t,r){return new e({attributes:t.attributes,geometry:i({...t.geometry,spatialReference:r})})}function I(e,t){return{adds:e?.adds?.map(e=>h(e,t))||[],updates:e?.updates?.map(e=>({original:h(e[0],t),current:h(e[1],t)}))||[],deletes:e?.deletes?.map(e=>h(e,t))||[],spatialReference:t}}function j(e){const t=e.details.raw,r=+t.code,a=+t.extendedCode;return 500===r&&(-2147217144===a||-2147467261===a)}export{I as createEditedFeatures,R as createFeatureEditResult,f as getAttachmentEditsJSON,b as getFeatureIds,m as getFeatureJSON,j as isProtectedOrPrivateVersionError,y as unpackEditResultData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Collection.js\";import a from\"../../core/Error.js\";import{clone as r}from\"../../core/lang.js\";import s from\"../../core/Logger.js\";import{createResolver as i}from\"../../core/promiseUtils.js\";import{dataComponents as n}from\"../../core/urlUtils.js\";import{generateBracedUUID as o}from\"../../core/uuid.js\";import{normalizeCentralMeridian as l}from\"../../geometry/support/normalizeUtils.js\";import{isGeographic as d,equals as u,isWGS84 as p,isWebMercator as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{isEditBusLayer as h,emitApplyEditsEvent as m}from\"../mixins/EditBusLayer.js\";import{isValidFieldValue as f}from\"../support/fieldUtils.js\";import{isGlbSupportedEditFormat as y}from\"../support/infoFor3D.js\";import{getEffectiveEditingEnabled as g,getEffectiveLayerCapabilities as b}from\"../support/layerUtils.js\";function w(e){return null!=e?.applyEdits}function F(e){return\"object\"==typeof e&&null!=e&&\"objectId\"in e&&!!e.objectId}function A(e){return e.every(F)}function v(e){return\"object\"==typeof e&&null!=e&&\"globalId\"in e&&!!e.globalId}function I(e){return e.every(v)}async function $(e,t,a,s={}){let n;const o=\"gdbVersion\"in e?e.gdbVersion:null,l=s.gdbVersion??o;if(h(e)&&e.url)n=m(e.url,e.layerId,l,\"original-and-current-features\"===s.returnServiceEditsOption);else{n=i(),n.promise.then(t=>{(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length)&&e.emit(\"edits\",t)});const t={result:n.promise};e.emit(\"apply-edits\",t)}try{const{results:i,edits:o}=await E(e,t,a,s),l=e=>e.filter(e=>!e.error).map(r),d={edits:o,addedFeatures:l(i.addFeatureResults),updatedFeatures:l(i.updateFeatureResults),deletedFeatures:l(i.deleteFeatureResults),addedAttachments:l(i.addAttachmentResults),updatedAttachments:l(i.updateAttachmentResults),deletedAttachments:l(i.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:i.editMoment?new Date(i.editMoment):null,globalIdToObjectId:s.globalIdToObjectId};return i.editedFeatureResults?.length&&(d.editedFeatures=i.editedFeatureResults),n.resolve(d),i}catch(d){throw n.reject(d),d}}async function E(e,t,r,s){if(await e.load(),!w(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!g(e))throw new a(`${e.type}-layer:editing-disabled`,\"Editing is disabled for layer\",{layer:e});const{edits:i,options:n}=await S(e,r,s);return i.addFeatures?.length||i.updateFeatures?.length||i.deleteFeatures?.length||i.addAttachments?.length||i.updateAttachments?.length||i.deleteAttachments?.length?{edits:i,results:await t.applyEdits(i,n)}:{edits:i,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function S(e,t,r){const i=b(e),n=t&&(t.addFeatures||t.updateFeatures||t.deleteFeatures),o=t&&(t.addAttachments||t.updateAttachments||t.deleteAttachments),l=null!=e.infoFor3D;if(V(t,i,r,!!n,!!o,`${e.type}-layer`),!i.data.isVersioned&&r?.gdbVersion)throw new a(`${e.type}-layer:invalid-parameter`,\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");if(!i.editing.supportsRollbackOnFailure&&r?.rollbackOnFailureEnabled)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");const d={...r};if(null!=d.rollbackOnFailureEnabled||i.editing.supportsRollbackOnFailure||(d.rollbackOnFailureEnabled=!0),d.rollbackOnFailureEnabled||\"original-and-current-features\"!==d.returnServiceEditsOption||(!1===d.rollbackOnFailureEnabled&&s.getLogger(\"esri.layers.graphics.editingSupport\").warn(`${e.type}-layer:invalid-parameter`,\"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true.\"),d.rollbackOnFailureEnabled=!0),!i.editing.supportsReturnServiceEditsInSourceSpatialReference&&d.returnServiceEditsInSourceSR)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'\");if(d.returnServiceEditsInSourceSR&&\"original-and-current-features\"!==d.returnServiceEditsOption)throw new a(`${e.type}-layer:invalid-parameter`,\"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'\");const u=G(t,i,`${e.type}-layer`),p=r?.globalIdUsed||l,c=e.fields.filter(e=>\"big-integer\"===e.type||\"oid\"===e.type&&(e.length||0)>=8);if(p){const{globalIdField:t}=e;if(null==t)throw new a(`${e.type}-layer:invalid-parameter`,\"Layer does not specify a global id field.\");u.addFeatures.forEach(e=>T(e,t))}u.addFeatures.forEach(t=>O(t,e,p,c)),u.updateFeatures.forEach(t=>k(t,e,p,c)),u.deleteFeatures.forEach(t=>U(t,e,p,c)),u.addAttachments.forEach(t=>L(t,e)),u.updateAttachments.forEach(t=>L(t,e)),l&&await x(u,e);return{edits:await B(u),options:d}}function R(e,t,r,s){if(r){if(\"attributes\"in e&&!e.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,`Feature should have '${t.globalIdField}' when 'globalIdUsed' is true`);if(!(\"attributes\"in e)&&!e.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"`'globalId' of the feature should be passed when 'globalIdUsed' is true\")}if(s.length&&\"attributes\"in e)for(const i of s){const r=e.attributes[i.name];if(void 0!==r&&!f(i,r))throw new a(`${t.type}-layer:invalid-parameter`,`Big-integer field '${i.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:e})}if(\"geometry\"in e&&null!=e.geometry){if(e.geometry.hasZ&&!1===t.capabilities?.data.supportsZ)throw new a(`${t.type}-layer:z-unsupported`,\"Layer does not support z values while feature has z values.\");if(e.geometry.hasM&&!1===t.capabilities?.data.supportsM)throw new a(`${t.type}-layer:m-unsupported`,\"Layer does not support m values while feature has m values.\")}}function j(e,t){if(\"geometry\"in e&&\"mesh\"===e.geometry?.type&&null!=t.infoFor3D&&null!=t.spatialReference){const{geometry:r}=e,{spatialReference:s,vertexSpace:i}=r,n=t.spatialReference,o=\"local\"===i.type,l=d(n),h=u(n,s),m=h||p(n)&&(p(s)||c(s));if(!(o&&l&&m||!o&&!l&&h))throw new a(`${t.type}-layer:mesh-unsupported`,`Uploading a mesh with a ${i.type} vertex space and a spatial reference wkid:${s.wkid} to a layer with a spatial reference wkid:${n.wkid} is not supported.`)}}function O(e,t,a,r){R(e,t,a,r),j(e,t)}function U(e,t,a,r){R(e,t,a,r)}function k(e,t,r,s){R(e,t,r,s),j(e,t);const i=b(t);if(\"geometry\"in e&&null!=e.geometry&&!i?.editing.supportsGeometryUpdate)throw new a(`${t.type}-layer:unsupported-operation`,\"Layer does not support geometry updates.\")}function L(e,t){const{feature:r,attachment:s}=e;if(!r||\"attributes\"in r&&!r.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to a feature with 'globalId'\");if(!(\"attributes\"in r)&&!r.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to 'globalId' of the parent feature\");if(!s.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'globalId'\");if(!s.data&&!s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'data' or 'uploadId'\");if(!(s.data instanceof File&&!!s.data.name)&&!s.name)throw new a(`${t.type}-layer:invalid-parameter`,\"'name' is required when attachment is specified as Base64 encoded string using 'data'\");if(!t.capabilities?.editing.supportsUploadWithItemId&&s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");if(\"string\"==typeof s.data){const e=n(s.data);if(e&&!e.isBase64)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment 'data' should be a Blob, File or Base64 encoded string\")}}function T(e,t){const{attributes:a}=e;null==a[t]&&(a[t]=o())}async function B(e){const t=e.addFeatures??[],a=e.updateFeatures??[],r=t.concat(a).map(e=>e.geometry),s=await l(r),i=t.length,n=a.length;return s.slice(0,i).forEach((e,a)=>t[a].geometry=e),s.slice(i,i+n).forEach((e,t)=>a[t].geometry=e),e}function D(e){return{addFeatures:Array.from(e?.addFeatures??[]),updateFeatures:Array.from(e?.updateFeatures??[]),deleteFeatures:e&&t.isCollection(e.deleteFeatures)?e.deleteFeatures.toArray():e.deleteFeatures||[],addAttachments:e.addAttachments||[],updateAttachments:e.updateAttachments||[],deleteAttachments:e.deleteAttachments||[]}}function G(e,t,r){const s=D(e);if(s.addFeatures?.length&&!t.operations.supportsAdd)throw new a(`${r}:unsupported-operation`,\"Layer does not support adding features.\");if(s.updateFeatures?.length&&!t.operations.supportsUpdate)throw new a(`${r}:unsupported-operation`,\"Layer does not support updating features.\");if(s.deleteFeatures?.length&&!t.operations.supportsDelete)throw new a(`${r}:unsupported-operation`,\"Layer does not support deleting features.\");return s.addFeatures=s.addFeatures.map(M),s.updateFeatures=s.updateFeatures.map(M),s.addAssetFeatures=[],s}function V(e,t,r,s,i,n){if(!(e&&(s||i)||r?.usingTelecomOperations))throw new a(`${n}:missing-parameters`,\"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");if(!t.editing.supportsGlobalId&&r?.globalIdUsed&&!r.usingFeatureServiceEndpoint)throw new a(`${n}:invalid-parameter`,\"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");if(!t.editing.supportsGlobalId&&i)throw new a(`${n}:invalid-parameter`,\"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");if(!r?.globalIdUsed&&i)throw new a(`${n}:invalid-parameter`,\"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\")}function M(t){const a=new e;return t.attributes||(t.attributes={}),a.geometry=t.geometry,a.attributes=t.attributes,a}async function x(e,t){const{infoFor3D:r}=t;if(null==r)return;if(!y(r))throw new a(`${t.type}-layer:binary-gltf-asset-not-supported`,\"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.\");e.addAssetFeatures??=[];const{addAssetFeatures:s}=e;for(const a of e.addFeatures??[])z(a)&&s.push(a);for(const a of e.updateFeatures??[])z(a)&&s.push(a)}function z(e){return\"mesh\"===e?.geometry?.type}function q(e,t,r,s){if(!w(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!t.uploadAssets)throw new a(`${e.type}-layer:no-asset-upload-support`,\"Layer source does not support uploadAssets capability\",{layer:e});return t.uploadAssets(r,s)}export{$ as applyEdits,V as checkEditingCapabilities,I as isFeatureIdentifierArrayWithGlobalId,A as isFeatureIdentifierArrayWithObjectId,v as isFeatureIdentifierWithGlobalId,F as isFeatureIdentifierWithObjectId,D as normalizeCollections,G as normalizeEdits,B as normalizeGeometries,M as shallowCloneFeature,q as uploadAssets};\n"],"names":["d","o","r","constructor","t","super","this","translation","c","rotationAxis","u","y","rotationAngle","scale","f","rotation","x","h","b","g","localMatrix","n","p","A","j","i","localMatrixInverse","a","equals","l","e","type","Number","nonNullable","json","write","prototype","s","m","async","geometry","_objectSpread","attributes","_s$transform","_I$z","transformFieldRoles","origin","spatialReference","vertexSpace","transform","isGeographic","R","I","originX","originY","originZ","z","translationX","translationY","translationZ","scaleX","scaleY","scaleZ","rotationX","rotationY","rotationZ","rotationDeg","toJSON","_t$addAttachments","_t$updateAttachments","_t$deleteAttachments","Promise","all","addAttachments","map","updateAttachments","deleteAttachments","length","adds","updates","deletes","_r$attributes","feature","attachment","globalId","name","contentType","data","uploadId","parentGlobalId","globalIdField","mediaType","File","objectId","objectIdField","getAttribute","_e$addResults$map","_e$addResults","_e$updateResults$map","_e$updateResults","_e$deleteResults$map","_e$deleteResults","assetMaps","addResults","success","getLogger","error","concat","updateResults","attachments","addFeatureResults","updateFeatureResults","deleteFeatureResults","deleteResults","addAttachmentResults","updateAttachmentResults","deleteAttachmentResults","editMoment","code","description","_e$adds","_e$updates","_e$deletes","original","current","details","raw","extendedCode","w","applyEdits","F","every","v","$","_s$gdbVersion","arguments","undefined","gdbVersion","url","layerId","returnServiceEditsOption","promise","then","addedFeatures","updatedFeatures","deletedFeatures","addedAttachments","updatedAttachments","deletedAttachments","emit","result","_i$editedFeatureResul","results","edits","_i$addFeatures","_i$updateFeatures","_i$deleteFeatures","_i$addAttachments","_i$updateAttachments","_i$deleteAttachments","load","layer","options","addFeatures","updateFeatures","deleteFeatures","infoFor3D","usingTelecomOperations","editing","supportsGlobalId","globalIdUsed","usingFeatureServiceEndpoint","V","isVersioned","supportsRollbackOnFailure","rollbackOnFailureEnabled","warn","supportsReturnServiceEditsInSourceSpatialReference","returnServiceEditsInSourceSR","_s$addFeatures","_s$updateFeatures","_s$deleteFeatures","_e$addFeatures2","_e$updateFeatures2","Array","from","isCollection","toArray","D","operations","supportsAdd","supportsUpdate","supportsDelete","M","addAssetFeatures","G","fields","filter","forEach","T","O","supportsGeometryUpdate","k","U","L","_e$addAssetFeatures","_e$addFeatures3","push","_e$updateFeatures3","B","S","E","exceededTransferLimit","historicMoment","Date","globalIdToObjectId","editedFeatureResults","editedFeatures","resolve","reject","MAX_SAFE_INTEGER","_t$capabilities","_t$capabilities2","hasZ","capabilities","supportsZ","hasM","supportsM","_e$geometry","wkid","_t$capabilities3","supportsUploadWithItemId","isBase64","_e$addFeatures","_e$updateFeatures","slice","_e$geometry2","q","uploadAssets"],"sourceRoot":""}