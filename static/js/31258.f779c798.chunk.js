"use strict";(self.webpackChunksc_land=self.webpackChunksc_land||[]).push([[31258],{2257:(t,e,n)=>{n.d(e,{D8:()=>s,TO:()=>l,d0:()=>o});var i=n(53430);async function l(t){var e,n;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.popupTemplate;if(null==l)return[];const s=await l.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:o}=l,{objectIdField:u,typeIdField:r,globalIdField:a,relationships:c}=t;if(s.includes("*"))return["*"];const d=o?(0,i.eX)(t):[],h=(0,i.DB)(t.fieldsIndex,[...s,...d]);return r&&h.push(r),h&&u&&null!==(e=t.fieldsIndex)&&void 0!==e&&e.has(u)&&!h.includes(u)&&h.push(u),h&&a&&null!==(n=t.fieldsIndex)&&void 0!==n&&n.has(a)&&!h.includes(a)&&h.push(a),null!==c&&void 0!==c&&c.forEach((e=>{var n;const{keyField:i}=e;h&&i&&(null===(n=t.fieldsIndex)||void 0===n?void 0:n.has(i))&&!h.includes(i)&&h.push(i)})),h}function s(t,e){return t&&"object"==typeof t?null!==e&&void 0!==e&&e.checkPopupEnabled&&"popupEnabled"in t&&!t.popupEnabled?null:"popupTemplate"in t&&t.popupTemplate?t.popupTemplate:null!=e&&e.defaultPopupTemplateEnabled&&"defaultPopupTemplate"in t&&t.defaultPopupTemplate?t.defaultPopupTemplate:null:null}function o(t,e){return null!=s(t,{defaultPopupTemplateEnabled:e})}},3109:(t,e,n)=>{n.d(e,{$x:()=>u,Wn:()=>c,XO:()=>r,iE:()=>a,y6:()=>o});var i=n(73582),l=n(2413),s=n(80963);class o{constructor(t,e,n,i,l){this.extent=t,this.timeExtent=e,this.size=n,this.pixelRatio=i,this.time=l}get flowExtentInfo(){var t;return{modelSize:this.size,valid:null===(t=(0,s.Vp)(this.extent.spatialReference))||void 0===t?void 0:t.valid,extent:(0,l.VY)(this.extent)}}insideMapExtent(t,e){return u(this.flowExtentInfo,t,e)}modelToMapSpace(t,e,n){return r(this.flowExtentInfo,t,e,n)}}function u(t,e,n){const{extent:i,valid:l}=t,[s,o,u,r]=i;return!(n<o||n>r)&&(null!=l&&s>u?e>=u||e<=s:e>=s&&e<=u)}function r(t,e,n,s){const{extent:o,modelSize:u,valid:r}=t,[a,d,h]=o,f=c(a,h,r);let p=e/u[0]*f+a;return null!=r&&s&&(p=new i.hr(r[0],r[1]).normalize(p)),[p,(u[1]-n)/u[1]*(0,l.uJ)(o)+d]}function a(t,e,n){return null!=n&&Math.abs(t-n.valid[0])<n.dx&&Math.abs(e-n.valid[1])<n.dx}function c(t,e,n){if(null!=n&&t>e){const[i,l]=n;return l-t+(e-i)}return e-t}},31516:(t,e,n)=>{n.d(e,{F:()=>s});n(18690),n(53084);var i=n(18288),l=n(59187);n(42052),n(72027);function s(t,e,n){if(null==(null===t||void 0===t?void 0:t.timeInfo))return null;const{datesInUnknownTimezone:s=!1,timeOffset:o,useViewTime:u}=t;let r=t.timeExtent;s&&(r=function(t){if(!t)return t;const{start:e,end:n}=t;return new l.A({start:null!=e?(0,i.S1)(e,e.getTimezoneOffset(),"minutes"):e,end:null!=n?(0,i.S1)(n,n.getTimezoneOffset(),"minutes"):n})}(r));let a=u?e&&r?e.intersection(r):e||r:r;return!a||a.isEmpty||a.isAllTime?a:(o&&(a=a.offset(-o.value,o.unit)),s&&(a=function(t){if(!t)return t;const{start:e,end:n}=t;return new l.A({start:null!=e?(0,i.S1)(e,-e.getTimezoneOffset(),"minutes"):e,end:null!=n?(0,i.S1)(n,-n.getTimezoneOffset(),"minutes"):n})}(a)),a.equals(n)?n:a)}},31723:(t,e,n)=>{n.d(e,{DW:()=>d,Sw:()=>r,T5:()=>p,Xx:()=>a,Zt:()=>c,uu:()=>u});var i=n(2413),l=n(46533),s=n(76191),o=n(3109);function u(t){return t?4:3}function r(t){return t[0].vertices instanceof Float32Array}class a{constructor(t,e,n,i,l,s){this.data=t,this.mask=e,this.width=n,this.height=i,this.lij=l,this.extent=s}}function c(t){return(0,s.et)(t.lij[0],t.lij[1],t.lij[2])}function d(t,e){let[n,l,s,u]=[null,null,null,null];for(const i of t){const t=i.extent;n=f(t[0],n),l=f(t[1],l),s=h(t[2],s),u=h(t[3],u)}if(null==n||null==l||null==s||null==u)return null;if((0,o.iE)(n,s,e)){const e=[...t].toSorted(((t,e)=>t.extent[0]-e.extent[0]));let i=e[0].extent[2],l=0,o=0,u=0;for(let t=1;t<e.length;t++){const[n,s,r]=e[t].extent;if(i<n&&(u++,l=i,o=n,u>1))break;i=Math.max(i,r)}1===u&&(n=o,s=l)}return(0,i.vt)([n,l,s,u])}function h(t,e){return null==e?t:Math.max(t,e)}function f(t,e){return null==e?t:Math.min(t,e)}function p(t,e,n){const[s,u]=n.modelSize;let r=null;const a=new Map;e.forEach((e=>{a.set(e.lij,(0,l.DE)(t,e))}));const c=(t,e,n)=>(0,i.Rj)(t.extent,e,n);return(l,d)=>{var h;const f=Math.round(l),p=Math.round(d);if(!t.wrapAround&&(f<0||f>=s||p<0||p>=u))return[0,0];const[m,v]=(0,o.XO)(n,l,d,!0);if(!(0,o.$x)(n,m,v))return[0,0];if(null==r||!c(r,m,v)){r=null;for(const[t,n]of e)if(c(n,m,v)){r=n;break}}if(null==(null===(h=r)||void 0===h?void 0:h.data))return[0,0];const x=a.get(r.lij);if(null==x)return[0,0];const{width:g,height:y,extent:S}=r;return x((m-S[0])/(0,i.VL)(S)*g,y-(v-S[1])/(0,i.uJ)(S)*y)}}},66917:(t,e,n)=>{n.d(e,{Dt:()=>g,EO:()=>f,Lu:()=>o,Sl:()=>v,UL:()=>d,YC:()=>a,hq:()=>s,l0:()=>r,oU:()=>c,r$:()=>p,vG:()=>m});var i=n(76931),l=n(31723);function s(t){const e=o(a(t)),n=e,l=Math.max(e/2,5),s=Math.round((0,i.Lz)(t.maxPathLength)/l)+1,{density:u}=t;return{smoothing:(0,i.Lz)(t.smoothing),interpolate:!0,velocityScale:"flow-from"===t.flowRepresentation?1:-1,verticesPerLine:s,minSpeedThreshold:.001,segmentLength:l,maxTurnAngle:1,collisions:!0,lineCollisionWidth:n,lineSpacing:10,density:u,onlyForwardTracing:!0,wrapAround:!1}}function o(t){return"constant"===t.kind?t.value[0]:t.values[t.values.length-1]}function u(t){const e=t.toRgba();return[e[0]/255,e[1]/255,e[2]/255,e[3]]}function r(t){return{kind:"constant",value:[.1,.1,.1,1]}}function a(t){if(!t.hasVisualVariables("size"))return{kind:"constant",value:[(0,i.Lz)(t.trailWidth)]};const e=t.getVisualVariablesForType("size")[0],n=[],l=[];let s;if(e.stops){for(const t of e.stops)n.push(t.value),l.push((0,i.Lz)(t.size));s=e.stops.length}else n.push(e.minDataValue,e.maxDataValue),l.push((0,i.Lz)(e.minSize),(0,i.Lz)(e.maxSize)),s=2;return{kind:"ramp",stops:n,values:l,count:s}}function c(t){if(!t.hasVisualVariables("color"))return{kind:"constant",value:u(t.color)};const e=t.getVisualVariablesForType("color")[0],n=[],i=[];for(const l of e.stops)n.push(l.value),Array.prototype.push.apply(i,u(l.color));return{kind:"ramp",stops:n,values:i,count:e.stops.length}}function d(t){if(!t.hasVisualVariables("opacity"))return{kind:"constant",value:[1]};const e=t.getVisualVariablesForType("opacity")[0],n=[],i=[];for(const l of e.stops)n.push(l.value),i.push(l.opacity);return{kind:"ramp",stops:n,values:i,count:e.stops.length}}function h(t,e,n,i){switch(e){case"int":t.setUniform1iv(n,i);break;case"float":t.setUniform1fv(n,i);break;case"vec2":t.setUniform2fv(n,i);break;case"vec3":t.setUniform3fv(n,i);break;case"vec4":t.setUniform4fv(n,i)}}function f(t,e,n,i){"constant"===i.kind?h(t,n,"u_".concat(e),i.value):(h(t,"float","u_".concat(e,"_stops"),i.stops),h(t,n,"u_".concat(e,"_values"),i.values),t.setUniform1i("u_".concat(e,"_count"),i.count))}function p(t,e){let n=!0;return n=n&&t.collisions===e.collisions,n=n&&t.density===e.density,n=n&&t.interpolate===e.interpolate,n=n&&t.lineCollisionWidth===e.lineCollisionWidth,n=n&&t.lineSpacing===e.lineSpacing,n=n&&t.maxTurnAngle===e.maxTurnAngle,n=n&&t.minSpeedThreshold===e.minSpeedThreshold,n=n&&t.segmentLength===e.segmentLength,n=n&&t.smoothing===e.smoothing,n=n&&t.velocityScale===e.velocityScale,n=n&&t.verticesPerLine===e.verticesPerLine,n}function m(t,e){return t===e||null!=t&&null!=e&&t.equals(e)}function v(t,e){if(!p(t.simulationSettings,e.simulationSettings))return!1;if(!m(t.timeExtent,e.timeExtent))return!1;let n=!0;return n=n&&t.loadImagery===e.loadImagery,n=n&&t.createFlowMesh===e.createFlowMesh,n=n&&t.color.kind===e.color.kind,n=n&&t.opacity.kind===e.opacity.kind,n=n&&t.size.kind===e.size.kind,n}function x(t,e,n,i){return t/=n.size[0],e=1-(e/=n.size[1]),t*=n.extent.xmax-n.extent.xmin,e*=n.extent.ymax-n.extent.ymin,t+=n.extent.xmin,e+=n.extent.ymin,t-=i.extent.xmin,e-=i.extent.ymin,t/=i.extent.xmax-i.extent.xmin,e=1-(e/=i.extent.ymax-i.extent.ymin),{x:t*=i.size[0],y:e*=i.size[1]}}function g(t,e,n,i){const s=[],o=n.time-e.time;if(0===t.length)return[];const u=(0,l.Sw)(t),r=u?(0,l.uu)(t[0].hasMagnitude):1,a=u?(t,e)=>{let{vertices:n}=t;const i=n,l=e*r;return{x:i[l],y:i[l+1],t:i[l+2],speed:0}}:(t,e)=>{let{vertices:n}=t;return n[e]};for(const l of t){const{stage:t,vertices:u}=l;if(2===t)continue;const c=u.length/r,d=a(l,0),h=d.t,f=(o*i-h)%(a(l,c-1).t-h)+h;let p,m=d.x,v=d.y,g=d.t;for(p=1;p<c&&g<f;p++){const t=a(l,p),e=Math.min(t.t,f)-g,n=t.t-g;m+=(t.x-m)*(e/n),v+=(t.y-v)*(e/n),g+=e}s.push(x(m,v,e,n))}return s}},76191:(t,e,n)=>{n.d(e,{Tb:()=>s,et:()=>a,mS:()=>u,nx:()=>o});var i=n(34111),l=n(2413);const s="virtual-snapshot-tile",o="virtual-display-filter-highlight-tile";class u{constructor(t,e,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a(t,e,n);this._tilingScheme=i,this.id=s,this.lij=[0,0,0],this.extent=null,this.measures=new r,this.loadPriority=0,this.used=!1,this.lij[0]=this.measures.lodLevel=t,this.lij[1]=e,this.lij[2]=n,i&&(this.extent=(0,l.vt)(),null===i||void 0===i||i.getExtent(t,e,n,this.extent))}get planetRadius(){return(0,i.tO)(this.spatialReference).radius}get spatialReference(){var t;return null===(t=this._tilingScheme)||void 0===t?void 0:t.spatialReference}get resolution(){var t,e;return null!==(t=null===(e=this._tilingScheme)||void 0===e?void 0:e.resolutionAtLevel(this.measures.lodLevel))&&void 0!==t?t:0}get level(){return this.lij[0]}get lodLevelDelta(){return this.measures.lodLevel-this.level}createChildren(){const t=this.lij[0]+1,e=2*this.lij[1],n=2*this.lij[2];return[new u(t,e,n,this._tilingScheme),new u(t,e+1,n,this._tilingScheme),new u(t,e,n+1,this._tilingScheme),new u(t,e+1,n+1,this._tilingScheme)]}}class r{constructor(){this.visible=!0,this.distance=0,this.lodLevel=0,this.splitPriority=0,this.mergeable=!0}}function a(t,e,n){return"".concat(t,"/").concat(e,"/").concat(n)}}}]);
//# sourceMappingURL=31258.f779c798.chunk.js.map