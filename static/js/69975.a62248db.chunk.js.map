{"version":3,"file":"static/js/69975.a62248db.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingGroupSublayer.js","../node_modules/@arcgis/core/layers/support/BuildingFilterAuthoringInfo.js","../node_modules/@arcgis/core/layers/support/BuildingFilterAuthoringInfoType.js","../node_modules/@arcgis/core/layers/support/BuildingFilterAuthoringInfoBlock.js","../node_modules/@arcgis/core/layers/support/BuildingFilterAuthoringInfoCheckbox.js","../node_modules/@arcgis/core/layers/support/BuildingFilterMode.js","../node_modules/@arcgis/core/layers/support/BuildingFilterModeSolid.js","../node_modules/@arcgis/core/layers/support/BuildingFilterModeWireFrame.js","../node_modules/@arcgis/core/layers/support/BuildingFilterModeXRay.js","../node_modules/@arcgis/core/layers/support/BuildingFilterBlock.js","../node_modules/@arcgis/core/layers/support/BuildingFilter.js","../node_modules/@arcgis/core/layers/support/BuildingSummaryStatistics.js","../node_modules/@arcgis/core/layers/BuildingSceneLayer.js","../node_modules/@arcgis/core/layers/support/schemaValidatorLoader.js","../node_modules/@arcgis/core/layers/mixins/SceneService.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{loadAllChildren as o}from\"../../core/loadAll.js\";import s from\"../../core/Warning.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import n from\"./BuildingComponentSublayer.js\";import u from\"./BuildingSublayer.js\";var a;const l={type:e,readOnly:!0,json:{origins:{service:{read:{source:\"sublayers\",reader:p}}},read:!1}};function p(r,o,t){if(r&&Array.isArray(r))return new e(r.map((r=>{const e=y(r);if(e){const o=new e;return o.read(r,t),o}return t?.messages&&r&&t.messages.push(new s(\"building-scene-layer:unsupported-sublayer-type\",\"Building scene sublayer of type '\"+(r.type||\"unknown\")+\"' are not supported\",{definition:r,context:t})),null})))}let c=a=class extends u{constructor(r){super(r),this.type=\"building-group\",this.listMode=\"show\",this.sublayers=null}loadAll(){return o(this,(r=>a.forEachSublayer(this.sublayers,(e=>{\"building-group\"!==e.type&&r(e)}))))}};function y(r){return\"group\"===r.layerType?c:n}r([t({type:[\"hide\",\"show\",\"hide-children\"],json:{write:!0}})],c.prototype,\"listMode\",void 0),r([t(l)],c.prototype,\"sublayers\",void 0),c=a=r([i(\"esri.layers.buildingSublayers.BuildingGroupSublayer\")],c),function(r){function e(r,o){r.forEach((r=>{o(r),\"building-group\"===r.type&&e(r.sublayers,o)}))}r.sublayersProperty=l,r.readSublayers=p,r.forEachSublayer=e}(c||(c={}));export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import o from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";let e=class extends o{constructor(){super(...arguments),this.type=null}};r([s({type:String,readOnly:!0,json:{write:{isRequired:!0}}})],e.prototype,\"type\",void 0),e=r([t(\"esri.layers.support.BuildingFilterAuthoringInfo\")],e);const p=e;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/JSONSupport.js\";import{clone as t}from\"../../core/lang.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";var i;let p=i=class extends e{constructor(){super(...arguments),this.filterType=null,this.filterValues=null}clone(){return new i({filterType:this.filterType,filterValues:t(this.filterValues)})}};r([o({type:String,json:{write:{isRequired:!0}}})],p.prototype,\"filterType\",void 0),r([o({type:[String],json:{write:{isRequired:!0}}})],p.prototype,\"filterValues\",void 0),p=i=r([s(\"esri.layers.support.BuildingFilterAuthoringInfoType\")],p);const l=p;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import o from\"../../core/Collection.js\";import e from\"../../core/JSONSupport.js\";import{clone as s}from\"../../core/lang.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import p from\"./BuildingFilterAuthoringInfoType.js\";var c;const l=o.ofType(p);let m=c=class extends e{clone(){return new c({filterTypes:s(this.filterTypes)})}};r([t({type:l,json:{write:{isRequired:!0}}})],m.prototype,\"filterTypes\",void 0),m=c=r([i(\"esri.layers.support.BuildingFilterAuthoringInfoBlock\")],m);const n=m;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Collection.js\";import{clone as t}from\"../../core/lang.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"./BuildingFilterAuthoringInfo.js\";import c from\"./BuildingFilterAuthoringInfoBlock.js\";var p;const l=r.ofType(c);let n=p=class extends i{constructor(){super(...arguments),this.type=\"checkbox\"}clone(){return new p({filterBlocks:t(this.filterBlocks)})}};o([e({type:[\"checkbox\"]})],n.prototype,\"type\",void 0),o([e({type:l,json:{write:{isRequired:!0}}})],n.prototype,\"filterBlocks\",void 0),n=p=o([s(\"esri.layers.support.BuildingFilterAuthoringInfoCheckbox\")],n);const m=n;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import o from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{};r([s({readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],t.prototype,\"type\",void 0),t=r([e(\"esri.layers.support.BuildingFilterMode\")],t);const p=t;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import e from\"./BuildingFilterMode.js\";var t;let i=t=class extends e{constructor(){super(...arguments),this.type=\"solid\"}clone(){return new t}};r([o({type:[\"solid\"],readOnly:!0,json:{write:{isRequired:!0}}})],i.prototype,\"type\",void 0),i=t=r([s(\"esri.layers.support.BuildingFilterModeSolid\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{clone as e}from\"../../core/lang.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{enumeration as s}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"./BuildingFilterMode.js\";import{symbol3dEdgesProperty as p}from\"../../symbols/edges/utils.js\";var c;let m=c=class extends i{constructor(){super(...arguments),this.type=\"wire-frame\",this.edges=null}clone(){return new c({edges:e(this.edges)})}};r([s({wireFrame:\"wire-frame\"})],m.prototype,\"type\",void 0),r([o(p)],m.prototype,\"edges\",void 0),m=c=r([t(\"esri.layers.support.BuildingFilterModeWireFrame\")],m);const a=m;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"./BuildingFilterMode.js\";var t;let p=t=class extends s{constructor(){super(...arguments),this.type=\"x-ray\"}clone(){return new t}};r([o({type:[\"x-ray\"],readOnly:!0,json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),p=t=r([e(\"esri.layers.support.BuildingFilterModeXRay\")],p);const i=p;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/JSONSupport.js\";import{clone as t}from\"../../core/lang.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"./BuildingFilterMode.js\";import l from\"./BuildingFilterModeSolid.js\";import p from\"./BuildingFilterModeWireFrame.js\";import n from\"./BuildingFilterModeXRay.js\";var d;const a={nonNullable:!0,types:{key:\"type\",base:s,typeMap:{solid:l,\"wire-frame\":p,\"x-ray\":n}},json:{read:e=>{switch(e?.type){case\"solid\":return l.fromJSON(e);case\"wireFrame\":return p.fromJSON(e);case\"x-ray\":return n.fromJSON(e);default:return}},write:{enabled:!0,isRequired:!0}}};let m=d=class extends r{constructor(){super(...arguments),this.filterExpression=null,this.filterMode=new l,this.title=\"\"}clone(){return new d({filterExpression:this.filterExpression,filterMode:t(this.filterMode),title:this.title})}};e([o({type:String,json:{write:{enabled:!0,isRequired:!0}}})],m.prototype,\"filterExpression\",void 0),e([o(a)],m.prototype,\"filterMode\",void 0),e([o({type:String,json:{write:{enabled:!0,isRequired:!0}}})],m.prototype,\"title\",void 0),m=d=e([i(\"esri.layers.support.BuildingFilterBlock\")],m);const c=m;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Collection.js\";import t from\"../../core/JSONSupport.js\";import{clone as e}from\"../../core/lang.js\";import{generateUUID as i}from\"../../core/uuid.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import p from\"./BuildingFilterAuthoringInfo.js\";import l from\"./BuildingFilterAuthoringInfoCheckbox.js\";import c from\"./BuildingFilterBlock.js\";var d;const u=r.ofType(c);let m=d=class extends t{constructor(){super(...arguments),this.description=null,this.filterBlocks=null,this.id=i(),this.name=null}clone(){return new d({description:this.description,filterBlocks:e(this.filterBlocks),id:this.id,name:this.name,filterAuthoringInfo:e(this.filterAuthoringInfo)})}};o([s({type:String,json:{write:!0}})],m.prototype,\"description\",void 0),o([s({type:u,json:{write:{enabled:!0,isRequired:!0}}})],m.prototype,\"filterBlocks\",void 0),o([s({types:{key:\"type\",base:p,typeMap:{checkbox:l}},json:{read:o=>\"checkbox\"===o?.type?l.fromJSON(o):null,write:!0}})],m.prototype,\"filterAuthoringInfo\",void 0),o([s({type:String,constructOnly:!0,json:{write:{enabled:!0,isRequired:!0}}})],m.prototype,\"id\",void 0),o([s({type:String,json:{write:{enabled:!0,isRequired:!0}}})],m.prototype,\"name\",void 0),m=d=o([n(\"esri.layers.support.BuildingFilter\")],m);export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../request.js\";import r from\"../../core/JSONSupport.js\";import s from\"../../core/Loadable.js\";import o from\"../../core/Logger.js\";import i from\"../../core/Promise.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";let p=class extends r{constructor(){super(...arguments),this.fieldName=null,this.modelName=null,this.label=null,this.min=null,this.max=null,this.mostFrequentValues=null,this.subLayerIds=null}};t([l({type:String})],p.prototype,\"fieldName\",void 0),t([l({type:String})],p.prototype,\"modelName\",void 0),t([l({type:String})],p.prototype,\"label\",void 0),t([l({type:Number})],p.prototype,\"min\",void 0),t([l({type:Number})],p.prototype,\"max\",void 0),t([l({json:{read:t=>Array.isArray(t)&&(t.every((t=>\"string\"==typeof t))||t.every((t=>\"number\"==typeof t)))?t.slice():null}})],p.prototype,\"mostFrequentValues\",void 0),t([l({type:[Number]})],p.prototype,\"subLayerIds\",void 0),p=t([a(\"esri.layers.support.BuildingSummaryStatistics.BuildingFieldStatistics\")],p);let n=class extends(s.LoadableMixin(i.EsriPromiseMixin(r))){constructor(t){super(t),this.url=null,this.customParameters=null}get fields(){return this.loaded||\"loading\"===this.loadStatus?this._get(\"fields\"):(o.getLogger(this).error(\"building summary statistics are not loaded\"),null)}load(t){const e=null!=t?t.signal:null;return this.addResolvingPromise(this._fetchService(e)),Promise.resolve(this)}async _fetchService(t){const r=(await e(this.url,{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:t})).data;this.read(r,{origin:\"service\"})}};t([l({constructOnly:!0,type:String})],n.prototype,\"url\",void 0),t([l({constructOnly:!0})],n.prototype,\"customParameters\",void 0),t([l({constructOnly:!0})],n.prototype,\"apiKey\",void 0),t([l({readOnly:!0,type:[p],json:{read:{source:\"summary\"}}})],n.prototype,\"fields\",null),n=t([a(\"esri.layers.support.BuildingSummaryStatistics\")],n);export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../core/Collection.js\";import t from\"../core/CollectionFlattener.js\";import i from\"../core/Error.js\";import{abortHandle as s}from\"../core/handleUtils.js\";import{clone as o}from\"../core/lang.js\";import{loadAll as a}from\"../core/loadAll.js\";import l from\"../core/Logger.js\";import{MultiOriginJSONMixin as n}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as p,ignoreAbortErrors as u}from\"../core/promiseUtils.js\";import{whenOnce as y}from\"../core/reactiveUtils.js\";import{join as c}from\"../core/urlUtils.js\";import{property as d}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import{reader as m}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as h}from\"../core/accessorSupport/decorators/subclass.js\";import b from\"../geometry/SpatialReference.js\";import f from\"./Layer.js\";import g from\"./buildingSublayers/BuildingComponentSublayer.js\";import S from\"./buildingSublayers/BuildingGroupSublayer.js\";import{APIKeyMixin as v}from\"./mixins/APIKeyMixin.js\";import{ArcGISService as j}from\"./mixins/ArcGISService.js\";import{CustomParametersMixin as w}from\"./mixins/CustomParametersMixin.js\";import{OperationalLayer as _}from\"./mixins/OperationalLayer.js\";import{PortalLayer as I}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as L}from\"./mixins/ScaleRangeLayer.js\";import{SceneService as O,SaveOperationType as T}from\"./mixins/SceneService.js\";import{findAssociatedFeatureService as E}from\"./support/associatedFeatureServiceUtils.js\";import P from\"./support/BuildingFilter.js\";import A from\"./support/BuildingSummaryStatistics.js\";import{sceneLayerFullExtent as x,legendEnabled as F,readOnlyService as B,elevationInfo as K}from\"./support/commonProperties.js\";import{logInvalidElevationInfoWarning as C,elevationModeRequiredMessage as U,featureExpressionUnsupportedMessage as $}from\"../support/elevationInfoUtils.js\";const R=r.ofType(P),M=o(S.sublayersProperty),k=M.json?.origins;k&&(k[\"web-scene\"]={type:[g],write:{enabled:!0,overridePolicy:()=>({enabled:!1})}},k[\"portal-item\"]={type:[g],write:{enabled:!0,overridePolicy:()=>({enabled:!1})}});let H=class extends(O(j(_(I(L(n(w(v(f))))))))){constructor(e){super(e),this.operationalLayerType=\"BuildingSceneLayer\",this.allSublayers=new t({getCollections:()=>[this.sublayers],getChildrenFunction:e=>\"building-group\"===e.type?e.sublayers:null}),this.sublayers=null,this._allSublayerOverrides=null,this.filters=new R,this.activeFilterId=null,this.summaryStatistics=null,this.outFields=null,this.legendEnabled=!0,this.type=\"building-scene\"}normalizeCtorArgs(e){return\"string\"==typeof e?{url:e}:e??{}}destroy(){this.allSublayers.destroy()}readSublayers(e,r,t){const i=S.readSublayers(e,r,t);return S.forEachSublayer(i,(e=>e.layer=this)),this._allSublayerOverrides&&(N(i,this._allSublayerOverrides),this._allSublayerOverrides=null),i}write(e,r){return e=super.write(e,r),!r||\"web-scene\"!==r.origin&&\"portal-item\"!==r.origin||(this.sublayers?W(this.sublayers,e,r):this._allSublayerOverrides&&z(this._allSublayerOverrides,e,r)),e}read(e,r){if(super.read(e,r),(\"web-scene\"===r?.origin||\"portal-item\"===r?.origin)&&Array.isArray(e?.sublayers)){const t=V(e.sublayers,r);this.sublayers?G(this.sublayers,t):(this._allSublayerOverrides??=new Map,this._allSublayerOverrides.set(r.origin,t))}}readSummaryStatistics(e,r){if(\"string\"==typeof r.statisticsHRef&&this.parsedUrl){const e=c(this.parsedUrl.path,r.statisticsHRef);return new A({url:e,apiKey:this.apiKey,customParameters:this.customParameters})}return null}set elevationInfo(e){null!=e&&\"absolute-height\"!==e.mode||this._set(\"elevationInfo\",e),this._validateElevationInfo(e)}load(e){const r=null!=e?e.signal:null,t=this.loadFromPortal({supportedTypes:[\"Scene Service\"]},e).catch(p).then((()=>this._fetchService(r))).then((()=>this._fetchAssociatedFeatureService(r)));return this.addResolvingPromise(t),Promise.resolve(this)}loadAll(){return a(this,(e=>{S.forEachSublayer(this.sublayers,(r=>{\"building-group\"!==r.type&&e(r)})),this.summaryStatistics&&e(this.summaryStatistics)}))}async saveAs(e,r){return this._debouncedSaveOperations(T.SAVE_AS,{...r,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"building-scene\"},e)}async save(){const e={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"building-scene\"};return this._debouncedSaveOperations(T.SAVE,e)}validateLayer(e){if(!e.layerType||\"Building\"!==e.layerType)throw new i(\"buildingscenelayer:layer-type-not-supported\",\"BuildingSceneLayer does not support this layer type\",{layerType:e.layerType})}_getTypeKeywords(){return[\"Building\"]}async _fetchAssociatedFeatureService(e){try{const{portalItem:r}=await E(`${this.url}/layers/${this.layerId}`,{sceneLayerItem:this.portalItem,customParameters:this.customParameters,apiKey:this.apiKey,signal:e});this.associatedFeatureServiceItem=r}catch(r){u(this._logWarningOnPopupEnabled())}}async _logWarningOnPopupEnabled(){const e=new AbortController;this.addHandles(s(e)),await y((()=>this.allSublayers.filter((e=>\"building-component\"===e.type)).some((e=>e.popupEnabled&&null!=e.popupTemplate))),e.signal);const r=this.allSublayers.filter((e=>\"building-component\"===e.type)).filter((e=>e.popupEnabled&&null!=e.popupTemplate)),t=[],i=[];for(const s of r){const e=s.title??`untitled ${s.id}`;s.attributeStorageInfo?t.push(e):i.push(e)}const o=\"\\n  \",a=t.length>0?`\\nThe following sublayers will fall back to binary attributes for Popups:${o}${t.join(o)}`:\"\",n=i.length>0?`\\nThe following sublayers have no binary attributes and will not work with Popups:${o}${i.join(o)}`:\"\";l.getLogger(this).warn(`Associated FeatureLayer could not be loaded for this BuildingSceneLayer: ${this.title}.`,a,n)}_validateElevationInfo(e){const r=\"Building scene layers\";C(l.getLogger(this),U(r,\"absolute-height\",e)),C(l.getLogger(this),$(r,e))}};function N(e,r){r.forEach((r=>G(e,r)))}function G(e,r){const{overrides:t,context:i}=r;S.forEachSublayer(e,(e=>e.read(t.get(e.id),i)))}function V(e,r){const t=new Map;for(const s of e)null!=s&&\"object\"==typeof s&&\"number\"==typeof s.id?t.set(s.id,s):r.messages?.push(new i(\"building-scene-layer:invalid-sublayer-override\",\"Invalid value for sublayer override. Not an object or no id specified.\",{value:s}));return{overrides:t,context:r}}function W(e,r,t){const i=[];S.forEachSublayer(e,(e=>{const r=e.write({},t);Object.keys(r).length>1&&i.push(r)})),i.length>0&&(r.sublayers=i)}function z(e,r,t){const i=t?.origin&&e.get(t.origin);i&&(r.sublayers=[],i.overrides.forEach((e=>{r.sublayers.push(o(e))})))}e([d({type:[\"BuildingSceneLayer\"]})],H.prototype,\"operationalLayerType\",void 0),e([d({readOnly:!0})],H.prototype,\"allSublayers\",void 0),e([d(M)],H.prototype,\"sublayers\",void 0),e([m(\"service\",\"sublayers\")],H.prototype,\"readSublayers\",null),e([d({type:R,nonNullable:!0,json:{write:!0}})],H.prototype,\"filters\",void 0),e([d({type:String,json:{write:!0}})],H.prototype,\"activeFilterId\",void 0),e([d({readOnly:!0,type:A})],H.prototype,\"summaryStatistics\",void 0),e([m(\"summaryStatistics\",[\"statisticsHRef\"])],H.prototype,\"readSummaryStatistics\",null),e([d({type:[String],json:{read:!1}})],H.prototype,\"outFields\",void 0),e([d(x)],H.prototype,\"fullExtent\",void 0),e([d(F)],H.prototype,\"legendEnabled\",void 0),e([d({type:[\"show\",\"hide\",\"hide-children\"]})],H.prototype,\"listMode\",void 0),e([d(B(b))],H.prototype,\"spatialReference\",void 0),e([d(K)],H.prototype,\"elevationInfo\",null),e([d({json:{read:!1},readOnly:!0})],H.prototype,\"type\",void 0),e([d()],H.prototype,\"associatedFeatureServiceItem\",void 0),H=e([h(\"esri.layers.BuildingSceneLayer\")],H);const J=H;export{J as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nlet n=null;function t(t){n=t}function u(){return n}export{u as getLoader,t as registerLoader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import r from\"../../core/Error.js\";import o from\"../../core/Logger.js\";import{debounce as i}from\"../../core/promiseUtils.js\";import{urlToObject as s}from\"../../core/urlUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{reader as n}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import{updateOrigins as c}from\"../../core/accessorSupport/originUtils.js\";import d from\"../../geometry/Extent.js\";import u from\"../../geometry/HeightModelInfo.js\";import m from\"../../geometry/SpatialReference.js\";import{titleFromUrlAndName as h,parse as y,cleanTitle as f,sanitizeUrlWithLayerId as v,writeUrlWithLayerId as S}from\"../support/arcgisLayerUrl.js\";import{id as g,url as w}from\"../support/commonProperties.js\";import{fetchIndexInfo as x}from\"../support/I3SIndexInfo.js\";import{getLoader as I}from\"../support/schemaValidatorLoader.js\";import j from\"../../portal/Portal.js\";import b from\"../../portal/PortalItem.js\";import{createForItemWrite as _}from\"../../portal/support/jsonContext.js\";import{saveResources as E,updateItemWithResources as N}from\"../../webdoc/support/resourceUtils.js\";import{evaluateWriteErrors as A}from\"../../webdoc/support/saveUtils.js\";const R=R=>{let C=class extends R{constructor(){super(...arguments),this.spatialReference=null,this.fullExtent=null,this.heightModelInfo=null,this.minScale=0,this.maxScale=0,this.version={major:Number.NaN,minor:Number.NaN,versionString:\"\"},this.copyright=null,this.sublayerTitleMode=\"item-title\",this.title=null,this.layerId=null,this.indexInfo=null,this._debouncedSaveOperations=i((async(e,t,r)=>{switch(e){case V.SAVE:return this._save(t);case V.SAVE_AS:return this._saveAs(r,t)}}))}readSpatialReference(e,t){return U(t)}readFullExtent(e,t,r){if(null!=e&&\"object\"==typeof e){const o=null==e.spatialReference?{...e,spatialReference:U(t)}:e;return d.fromJSON(o,r)}const o=t.store,i=U(t);return null==i||null==o?.extent||!Array.isArray(o.extent)||o.extent.some((e=>e<L))?null:new d({xmin:o.extent[0],ymin:o.extent[1],xmax:o.extent[2],ymax:o.extent[3],spatialReference:i})}parseVersionString(e){const t={major:Number.NaN,minor:Number.NaN,versionString:e},r=e.split(\".\");return r.length>=2&&(t.major=parseInt(r[0],10),t.minor=parseInt(r[1],10)),t}readVersion(e,t){const r=t.store,o=null!=r.version?r.version.toString():\"\";return this.parseVersionString(o)}readTitlePortalItem(e){return\"item-title\"!==this.sublayerTitleMode?void 0:e}readTitleService(e,t){const r=this.portalItem?.title;if(\"item-title\"===this.sublayerTitleMode)return this.url?h(this.url,t.name):t.name;let o=t.name;if(!o&&this.url){const e=y(this.url);null!=e&&(o=e.title)}return\"item-title-and-service-name\"===this.sublayerTitleMode&&r&&(o=r+\" - \"+o),f(o)}set url(e){if(null==e)return void this._set(\"url\",e);const t=v({layer:this,url:e,nonStandardUrlAllowed:!1,logger:o.getLogger(this)});this._set(\"url\",t.url),null!=t.layerId&&this._set(\"layerId\",t.layerId)}writeUrl(e,t,r,o){S(this,e,\"layers\",t,o)}get parsedUrl(){const e=this._get(\"url\"),t=s(e);return t&&null!=this.layerId&&(t.path=`${t.path}/layers/${this.layerId}`),t}async _fetchIndexAndUpdateExtent(e,t){this.indexInfo=x(this.parsedUrl?.path??\"\",this.rootNode,e,this.customParameters,this.apiKey,o.getLogger(this),t),null==this.fullExtent||this.fullExtent.hasZ||this._updateExtent(await this.indexInfo)}_updateExtent(e){if(\"page\"===e?.type){const t=e.rootIndex%e.pageSize,o=e.rootPage?.nodes?.[t];if(null==o?.obb?.center||null==o.obb.halfSize)throw new r(\"sceneservice:invalid-node-page\",\"Invalid node page.\");if(o.obb.center[0]<L||null==this.fullExtent||this.fullExtent.hasZ)return;const i=o.obb.halfSize,s=o.obb.center[2],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);this.fullExtent.zmin=s-a,this.fullExtent.zmax=s+a}else if(\"node\"===e?.type){const t=e.rootNode?.mbs;if(!Array.isArray(t)||4!==t.length||t[0]<L)return;const r=t[2],o=t[3],{fullExtent:i}=this;i&&(i.zmin=r-o,i.zmax=r+o)}}async _fetchService(e){if(null==this.url)throw new r(\"sceneservice:url-not-set\",\"Scene service can not be loaded without valid portal item or url\");if(null==this.layerId&&/SceneServer\\/*$/i.test(this.url)){const t=await this._fetchFirstLayerId(e);null!=t&&(this.layerId=t)}return this._fetchServiceLayer(e)}async _fetchFirstLayerId(e){const r=await t(this.url??\"\",{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e});if(r.data&&Array.isArray(r.data.layers)&&r.data.layers.length>0)return r.data.layers[0].id}async _fetchServiceLayer(e){const r=await t(this.parsedUrl?.path??\"\",{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e});r.ssl&&this.url&&(this.url=this.url.replace(/^http:/i,\"https:\"));let o=!1;if(r.data.layerType&&\"Voxel\"===r.data.layerType&&(o=!0),o)return this._fetchVoxelServiceLayer();const i=r.data;this.read(i,this._getServiceContext()),this.validateLayer(i)}async _fetchVoxelServiceLayer(e){const r=(await t(this.parsedUrl?.path+\"/layer\",{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(r,this._getServiceContext()),this.validateLayer(r)}_getServiceContext(){return{origin:\"service\",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl}}async _ensureLoadBeforeSave(){await this.load(),\"beforeSave\"in this&&\"function\"==typeof this.beforeSave&&await this.beforeSave()}validateLayer(e){}async _saveAs(e,t){const o={...K,...t};let i=b.from(e);if(!i)throw new r(\"sceneservice:portal-item-required\",\"_saveAs() requires a portal item to save to\");i.id&&(i=i.clone(),i.id=null);const s=i.portal||j.getDefault();await this._ensureLoadBeforeSave(),i.type=P,i.portal=s;const a=_(i,\"portal-item\",!0),n={layers:[this.write({},a)]};return await Promise.all(a.resources.pendingOperations??[]),await this._validateAgainstJSONSchema(n,a,o),this.url&&(i.url=this.url),i.title||(i.title=this.title),T(i,o,O.newItem),await s.signIn(),await s.user.addItem({item:i,folder:o?.folder,data:n}),await E(this.resourceReferences,a),this.portalItem=i,c(a),a.portalItem=i,i}async _save(e){const t={...K,...e};if(!this.portalItem)throw new r(\"sceneservice:portal-item-not-set\",\"Portal item to save to has not been set on this SceneService\");if(this.portalItem.type!==P)throw new r(\"sceneservice:portal-item-wrong-type\",`Portal item needs to have type \"${P}\"`);await this._ensureLoadBeforeSave();const o=_(this.portalItem,\"portal-item\",!0),i={layers:[this.write({},o)]};return await Promise.all(o.resources.pendingOperations??[]),await this._validateAgainstJSONSchema(i,o,t),this.url&&(this.portalItem.url=this.url),this.portalItem.title||(this.portalItem.title=this.title),T(this.portalItem,t,O.existingItem),await N(this.portalItem,i,this.resourceReferences,o),c(o),this.portalItem}async _validateAgainstJSONSchema(e,t,i){const s=i?.validationOptions;A(t,{errorName:\"sceneservice:save\"},{ignoreUnsupported:s?.ignoreUnsupported,supplementalUnsupportedErrors:[\"scenemodification:unsupported\"]});const a=s?.enabled,n=I();if(a&&n){const t=(await n()).validate(e,i.portalItemLayerType);if(!t.length)return;const a=`Layer item did not validate:\\n${t.join(\"\\n\")}`;if(o.getLogger(this).error(`_validateAgainstJSONSchema(): ${a}`),\"throw\"===s.failPolicy){const e=t.map((e=>new r(\"sceneservice:schema-validation\",e)));throw new r(\"sceneservice-validate:error\",\"Failed to save layer item due to schema validation, see `details.errors`.\",{validationErrors:e})}}}};return e([a(g)],C.prototype,\"id\",void 0),e([a({type:m})],C.prototype,\"spatialReference\",void 0),e([n(\"spatialReference\",[\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],C.prototype,\"readSpatialReference\",null),e([a({type:d})],C.prototype,\"fullExtent\",void 0),e([n(\"fullExtent\",[\"fullExtent\",\"store.extent\",\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],C.prototype,\"readFullExtent\",null),e([a({readOnly:!0,type:u})],C.prototype,\"heightModelInfo\",void 0),e([a({type:Number,json:{name:\"layerDefinition.minScale\",write:!0,origins:{service:{read:{source:\"minScale\"},write:!1}}}})],C.prototype,\"minScale\",void 0),e([a({type:Number,json:{name:\"layerDefinition.maxScale\",write:!0,origins:{service:{read:{source:\"maxScale\"},write:!1}}}})],C.prototype,\"maxScale\",void 0),e([a({readOnly:!0})],C.prototype,\"version\",void 0),e([n(\"version\",[\"store.version\"])],C.prototype,\"readVersion\",null),e([a({type:String,json:{read:{source:\"copyrightText\"}}})],C.prototype,\"copyright\",void 0),e([a({type:String,json:{read:!1}})],C.prototype,\"sublayerTitleMode\",void 0),e([a({type:String})],C.prototype,\"title\",void 0),e([n(\"portal-item\",\"title\")],C.prototype,\"readTitlePortalItem\",null),e([n(\"service\",\"title\",[\"name\"])],C.prototype,\"readTitleService\",null),e([a({type:Number,json:{origins:{service:{read:{source:\"id\"}},\"portal-item\":{write:{target:\"id\",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],C.prototype,\"layerId\",void 0),e([a(w)],C.prototype,\"url\",null),e([p(\"url\")],C.prototype,\"writeUrl\",null),e([a()],C.prototype,\"parsedUrl\",null),e([a({readOnly:!0})],C.prototype,\"store\",void 0),e([a({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],C.prototype,\"rootNode\",void 0),C=e([l(\"esri.layers.mixins.SceneService\")],C),C},L=-1e38;function U(e){if(null!=e.spatialReference)return m.fromJSON(e.spatialReference);const t=e.store,r=t.indexCRS||t.geographicCRS,o=r&&parseInt(r.slice(r.lastIndexOf(\"/\")+1),10);return null!=o?new m(o):null}function T(e,t,r){e.typeKeywords||(e.typeKeywords=[]);const o=t.getTypeKeywords();for(const i of o)e.typeKeywords.push(i);e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)),r===O.newItem&&(e.typeKeywords=e.typeKeywords.filter((e=>\"Hosted Service\"!==e))))}var O;!function(e){e[e.existingItem=0]=\"existingItem\",e[e.newItem=1]=\"newItem\"}(O||(O={}));const P=\"Scene Service\",K={getTypeKeywords:()=>[],portalItemLayerType:\"unknown\",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:\"throw\"}};var V;!function(e){e[e.SAVE=0]=\"SAVE\",e[e.SAVE_AS=1]=\"SAVE_AS\"}(V||(V={}));export{V as SaveOperationType,R as SceneService,P as sceneServiceItemType};\n"],"names":["async","n","_n$fieldsIndex","_n$fieldsIndex2","p","arguments","length","undefined","popupTemplate","u","getRequiredFields","fieldsIndex","lastEditInfoEnabled","t","objectIdField","d","typeIdField","s","globalIdField","i","relationships","a","includes","o","e","f","l","push","has","forEach","_n$fieldsIndex3","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","type","readOnly","json","origins","service","read","source","reader","r","Array","isArray","map","layerType","c","y","messages","definition","context","constructor","super","this","listMode","sublayers","loadAll","forEachSublayer","write","prototype","sublayersProperty","readSublayers","String","isRequired","filterType","filterValues","clone","ofType","m","filterTypes","filterBlocks","edges","wireFrame","nonNullable","types","key","base","typeMap","solid","fromJSON","enabled","filterExpression","filterMode","title","description","id","name","filterAuthoringInfo","checkbox","constructOnly","fieldName","modelName","label","min","max","mostFrequentValues","subLayerIds","Number","every","slice","LoadableMixin","EsriPromiseMixin","url","customParameters","fields","loaded","loadStatus","_get","getLogger","error","load","signal","addResolvingPromise","_fetchService","Promise","resolve","query","_objectSpread","token","apiKey","responseType","data","origin","R","P","M","S","k","_M$json","g","overridePolicy","H","O","j","_","I","L","w","v","operationalLayerType","allSublayers","getCollections","getChildrenFunction","_allSublayerOverrides","filters","activeFilterId","summaryStatistics","outFields","legendEnabled","normalizeCtorArgs","destroy","layer","G","N","Object","keys","W","get","overrides","z","_this$_allSublayerOve","Map","_r$messages","set","value","V","readSummaryStatistics","statisticsHRef","parsedUrl","path","A","elevationInfo","mode","_set","_validateElevationInfo","loadFromPortal","supportedTypes","catch","then","_fetchAssociatedFeatureService","saveAs","_debouncedSaveOperations","T","SAVE_AS","getTypeKeywords","_getTypeKeywords","portalItemLayerType","save","SAVE","validateLayer","portalItem","E","concat","layerId","sceneLayerItem","associatedFeatureServiceItem","_logWarningOnPopupEnabled","AbortController","addHandles","filter","some","popupEnabled","_s$title","attributeStorageInfo","join","warn","C","U","$","x","F","B","b","K","h","J","spatialReference","fullExtent","heightModelInfo","minScale","maxScale","version","major","NaN","minor","versionString","copyright","sublayerTitleMode","indexInfo","_save","_saveAs","readSpatialReference","readFullExtent","store","extent","xmin","ymin","xmax","ymax","parseVersionString","split","parseInt","readVersion","toString","readTitlePortalItem","readTitleService","_this$portalItem","nonStandardUrlAllowed","logger","writeUrl","_fetchIndexAndUpdateExtent","_this$parsedUrl$path","_this$parsedUrl","rootNode","hasZ","_updateExtent","_e$rootPage","_o$obb","rootIndex","pageSize","rootPage","nodes","obb","center","halfSize","Math","sqrt","zmin","zmax","_e$rootNode","mbs","test","_fetchFirstLayerId","_fetchServiceLayer","_this$url","layers","_this$parsedUrl$path2","_this$parsedUrl2","ssl","replace","_fetchVoxelServiceLayer","_getServiceContext","_this$parsedUrl3","_this$portalItem2","portal","_ensureLoadBeforeSave","beforeSave","_a$resources$pendingO","from","getDefault","all","resources","pendingOperations","_validateAgainstJSONSchema","newItem","signIn","user","addItem","item","folder","resourceReferences","_o$resources$pendingO","existingItem","validationOptions","errorName","ignoreUnsupported","supplementalUnsupportedErrors","validate","failPolicy","validationErrors","target","ignoreOrigin","indexCRS","geographicCRS","lastIndexOf","typeKeywords","indexOf"],"sourceRoot":""}